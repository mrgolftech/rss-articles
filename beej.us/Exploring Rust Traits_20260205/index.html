
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="技术博客文章聚合 - Hacker News 2025年最受欢迎的博客">
      
      
        <meta name="author" content="OpenClaw">
      
      
        <link rel="canonical" href="https://mrgolftech.github.io/rss-articles/beej.us/Exploring%20Rust%20Traits_20260205/">
      
      
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.2">
    
    
      
        <title>Exploring Rust Traits - Hacker News 精选博客</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#exploring-rust-traits" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../.." title="Hacker News 精选博客" class="md-header__button md-logo" aria-label="Hacker News 精选博客" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Hacker News 精选博客
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Exploring Rust Traits
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="切换到深色模式"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="切换到深色模式" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="切换到浅色模式"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="切换到浅色模式" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="分享" aria-label="分享" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/mrgolftech/rss-articles" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    rss-articles
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  首页

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../blogs/" class="md-tabs__link">
        
  
  
    
  
  所有博客

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Hacker News 精选博客" class="md-nav__button md-logo" aria-label="Hacker News 精选博客" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Hacker News 精选博客
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/mrgolftech/rss-articles" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    rss-articles
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    首页
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blogs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    所有博客
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/mrgolftech/rss-articles/edit/master/docs/beej.us/Exploring Rust Traits_20260205.md" title="编辑此页" class="md-content__button md-icon" rel="edit">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75z"/></svg>
    </a>
  
  


<h1 id="exploring-rust-traits">Exploring Rust Traits<a class="headerlink" href="#exploring-rust-traits" title="Permanent link">&para;</a></h1>
<p><strong>来源:</strong> https://beej.us
<strong>链接:</strong> http://beej.us/blog/data/rust-trait-impl/
<strong>日期:</strong> Fri, 17 Oct 2025 00:00:00 +0000</p>
<hr />
<h1 id="beejs-bit-bucket-a-tech-and-programming-fun"><a href="../..">Beej's Bit Bucket  â¡ Tech and Programming Fun </a><a class="headerlink" href="#beejs-bit-bucket-a-tech-and-programming-fun" title="Permanent link">&para;</a></h1>
<p>2025-10-17, 2025-10-20</p>
<h1 id="exploring-rust-traits_1">Exploring Rust Traits<a class="headerlink" href="#exploring-rust-traits_1" title="Permanent link">&para;</a></h1>
<p><img alt="Ferris the Crab" src="images/ferris.png" /> Ferris the mascot crab is here to help, hopefully, 'cause I'm gonna need it.</p>
<p>Welcome to my first blog in my <em>Rust Rabbit Holes</em> series! In these I'll just try implementing something relatively simple and then pull on the various threads to see where they lead.</p>
<p>I'm a Rust noob. I've dabbled for a few years and written a <a href="https://github.com/beejjorgensen/Wizards-Castle-Rust">small-but-non-trivial project</a>, but I'm far, far from expert.</p>
<p>So I'm going to just mess around with the language a bit and see what it takes to do what. And see what I learn along the way. And if anything is wrong in this blog, it's because <a href="https://www.pcgamer.com/software/ai/ai-content-now-outnumbers-human-written-articles-on-the-internet-but-the-good-news-is-that-the-slop-seems-to-have-plateaued-for-now/">I'm <em>human</em></a>. ð Corrections and additional comments welcome, of course.</p>
<p>For this exploration, I had in mind to just compare buffered and unbuffered file I/O. But then it got into <a href="https://doc.rust-lang.org/book/ch10-02-traits.html">traits</a> a bit. And I ran with that.</p>
<p>Reader skill level: beginner, like me.</p>
<h2 id="traits">Traits<a class="headerlink" href="#traits" title="Permanent link">&para;</a></h2>
<p>If you aren't familiar with the concept of Rust traits, you can very loosely think of them as "interfaces" or "abstract classes" in other languages. They're a description of methods you must have in order to implement a particular trait.</p>
<p>For example, to implement the <a href="https://doc.rust-lang.org/std/io/trait.Read.html"><code>Read</code> trait</a> in Rust, your <code>struct</code> must implement a <code>read()</code> function with the proper signature.</p>
<p>There are plenty more details in <a href="https://doc.rust-lang.org/book/ch10-02-traits.html">the Rust Book</a>.</p>
<h2 id="buffered-and-unbuffered-reads">Buffered and Unbuffered Reads<a class="headerlink" href="#buffered-and-unbuffered-reads" title="Permanent link">&para;</a></h2>
<p>At a low level, the OS typically exposes an interface that just lets you synchronously read a chunk of bytes into memory. On Unix-likes, this is the <a href="https://man7.org/linux/man-pages/man2/read.2.html"><code>read()</code> syscall</a>.</p>
<p>This is inconvenient for a number of reasons, two of which are:</p>
<ul>
<li>
<p>Each syscall is expensive, and if you do a lot of tiny reads, that's overhead. It's better to do one big actual OS read, and then all your smaller reads can take place in <a href="https://en.wikipedia.org/wiki/User_space_and_kernel_space">user space</a> without that overhead.</p>
</li>
<li>
<p>The OS doesn't allow you to do fun things like "read a single line of data" because its interface is so simplistic. You'd have to micromanage that yourself. A buffered I/O system, since it already grabbed a big chunk of input, can scan ahead for newlines and return single lines.</p>
</li>
</ul>
<p>In C, the <code>stdio.h</code> I/O functions are all typically buffered. If you want unbuffered, you either tell the C I/O subsystem to go unbuffered, or you can call the OS directly.</p>
<p>In Rust, both modes are present in the standard library. In the modern style, you first open a file in unbuffered mode, and then you wrap that up in some buffering functionality if you want that.</p>
<h2 id="unbuffered-reads-in-rust">Unbuffered Reads in Rust<a class="headerlink" href="#unbuffered-reads-in-rust" title="Permanent link">&para;</a></h2>
<p>Rust does unbuffered I/O with its <a href="https://doc.rust-lang.org/std/fs/struct.File.html"><code>struct File</code></a> type. It implements the <a href="https://doc.rust-lang.org/std/io/trait.Read.html"><code>Read</code></a> trait which gives us this method, among others:</p>
<div class="language-text highlight"><pre><span></span><code>fn read(&amp;mut self, buf: &amp;mut [u8]) -&gt; Result&lt;usize&gt;;
</code></pre></div>
<p>That's a hard parse if you're new to Rust, but the gist is that you're going to pass in a mutable reference to an array of bytes in <code>buf</code> (mutable so that <code>read()</code> can put bytes in it!) and it returns a <code>Result</code> object telling you the number of bytes that have been read. (Incidentally, this is exactly how Unix <code>read()</code> syscall works.)</p>
<p>So after you call <code>read()</code> on your file object, hopefully that <code>buf</code> parameter gets filled up with some bytes and the returned <code>Result</code> holds the number of bytes that we read.</p>
<p>Here's a bit of a demo that does this:</p>
<div class="language-text highlight"><pre><span></span><code>use std::fs::File;
use std::error::Error;
use std::io::Read;

fn unbuffered_demo() -&gt; Result&lt;(), Box&lt;dyn Error&gt;&gt; {
    const BUFSIZE: usize = 128;

    // Open the file
    let mut file = File::open(&quot;input.txt&quot;)?;

    // Buffer to read bytes into
    let mut buf = [0u8; BUFSIZE];

    // Call file.read repeatedly, trying to get BUFSIZE bytes
    loop {
        let bytes_read = file.read(&amp;mut buf)?;

        // Check for end-of-file
        if bytes_read == 0 {
            break;
        }

        // Otherwise, convert bytes to a string
        let str_val = std::str::from_utf8(&amp;buf[..bytes_read])?;
        print!(&quot;{}&quot;, str_val);
    }

    Ok(())
}
</code></pre></div>
<p>Interesting that we had to bring in the <code>std::io::Read</code> trait even though it doesn't appear in our code. It's because <code>File</code> implements it that we have to do that, apparently.</p>
<p>Also check out that <code>std::str::from_utf8()</code> call. I'm assuming the bytes in that files are <a href="https://en.wikipedia.org/wiki/UTF-8">UTF-8 encoded</a> (they are in my <code>input.txt</code>). I pass in <code>&amp;buf[..bytes_read]</code> which is a slice of the buffer just composed of how ever many bytes I read. Hopefully the number of bytes is <code>BUFSIZE</code>, but the file is unlikely to be an exact multiple of that so the last read is short.</p>
<p>When there is a short read, values in the <code>[u8]</code> array past the end of the read just have whatever was in there from the <em>previous</em> read. So we slice those off.</p>
<p>Finally, the function return type is interesting:</p>
<div class="language-text highlight"><pre><span></span><code>fn unbuffered_demo() -&gt; Result&lt;(), Box&lt;dyn Error&gt;&gt; {
</code></pre></div>
<p>That's the classic <code>Result</code>, but what's the rest of it? My function returns <code>Ok(())</code> in the good case. But we have all those <code>?</code> operators all over the place. Those basically say, "Unwrap the return value from this function. If it's good, assign it to the variable on the left. If it's bad, return with the error."</p>
<p>But all those functions with <code>?</code> after technically return different types, so how do we handle them all?</p>
<p>Well, all of those error types implement the <code>std::error::Error</code> trait. So we can treat them all like <code>Error</code>. Except that they aren't the same types, and we won't know which exact type was returned until runtime, so we have to use <a href="https://en.wikipedia.org/wiki/Dynamic_dispatch">dynamic dispatch</a> when returning itâthat's the <code>dyn</code> keyword you see.</p>
<p>Not only that, but we don't know how big the particular runtime error object will be, so it has to be <code>Box</code>ed. Rust needs to know the size of everything at compile time, and a <code>Box</code> is basically just a pointer to something on the <a href="https://en.wikipedia.org/wiki/Memory_management#HEAP">heap</a>, and pointers are fixed size.</p>
<p>I was also wondering how the called functions know to <code>Box</code> their errors for our function because it seems like normally they wouldn't. Apparently this happens through the magic of the <a href="https://doc.rust-lang.org/std/convert/trait.From.html"><code>From</code></a> trait, but I didn't pursue that rabbit hole this time.</p>
<p>Boxing errors like this is not the only way to handle multiple error types, and arguably isn't the <em>best</em> way (whatever that means). <a href="https://doc.rust-lang.org/rust-by-example/error/multiple_error_types.html">Rust by Example</a> has more information.</p>
<p>OK, so that's unbuffered. How do we get buffered I/O?</p>
<h2 id="buffered-reads-in-rust">Buffered Reads in Rust<a class="headerlink" href="#buffered-reads-in-rust" title="Permanent link">&para;</a></h2>
<p>In order to get buffered reads, we need to wrap our <code>File</code> up in a <a href="https://doc.rust-lang.org/std/io/struct.BufReader.html"><code>BufReader</code></a>.</p>
<p>The short of it looks like this:</p>
<div class="language-text highlight"><pre><span></span><code>// Open the file
let file = File::open(&quot;input.txt&quot;)?;

// Make a new buffered reader on the file
let mut reader = BufReader::new(file);
</code></pre></div>
<p>And now we have a <code>reader</code> object that has all kinds of higher-level <a href="https://doc.rust-lang.org/std/io/struct.BufReader.html#implementations"><code>BufReader</code> methods</a> on it. We can now use <em>these</em> to read the data instead of that lower-level <code>read()</code> method. In particular, it implements the <a href="https://doc.rust-lang.org/std/io/trait.BufRead.html"><code>BufRead</code> trait</a> that gives you more (and easier) control over what you read.</p>
<p>Notably, it has this method:</p>
<div class="language-text highlight"><pre><span></span><code>fn read_line(&amp;mut self, buf: &amp;mut String) -&gt; Result&lt;usize&gt; { ... }
</code></pre></div>
<p>That will read a line at a time! That's fun! Let's write some code that does it. I'll just copy the unbuffered code and modify it to use the <code>BufReader</code> for reading, instead:</p>
<div class="language-text highlight"><pre><span></span><code>use std::fs::File;
use std::error::Error;
use std::io::{BufRead, BufReader, Read};

fn buffered_demo() -&gt; Result&lt;(), Box&lt;dyn Error&gt;&gt; {
    // Open the file
    let file = File::open(&quot;input.txt&quot;)?;

    // Make a new buffered reader on the file
    let mut reader = BufReader::new(file);

    // Storage for the line we&#39;ll read
    let mut line = String::new();

    loop {
        // Read a line!
        let bytes_read = reader.read_line(&amp;mut line)?;

        // Check for end-of-file
        if bytes_read == 0 {
            break;
        }

        print!(&quot;{}&quot;, line);
        line.clear();
    }

    Ok(())
}
</code></pre></div>
<p>Looks awfully similar to what we had before. There are a couple interesting things in this buffered version, though.</p>
<p>We're not reading into a byte array, but instead into a <a href="https://doc.rust-lang.org/std/string/struct.String.html"><code>String</code></a>. This is nice because <code>String</code>s are basically <a href="https://doc.rust-lang.org/std/vec/struct.Vec.html"><code>Vec</code>s</a> under the hood so they grow and shrink as needed. No more fixed-size buffer to manage!</p>
<p>In the unbuffered version, the <code>File</code> variable had to be <code>mut</code>, and here it doesn't. That's because in the unbuffered version we were calling <code>file.read()</code>, which does a mutable borrow <code>&amp;mut self</code> as we see in <a href="https://doc.rust-lang.org/std/io/trait.Read.html#tymethod.read">its signature</a>. In this version, we simply pass ownership of the file to the <code>BufReader</code>, and it presumably tucks it away in its <code>struct</code> somewhere. And then when we call <code>reader.read_line()</code> is does its own <code>&amp;mut self</code> borrow and then then calls its <code>file.read()</code> internally. I <em>think</em>.</p>
<p>We do have that <code>line.clear()</code> bit at the end. Turns out <code>read_line()</code> <em>appends</em> data on the end of the <code>line</code> variable. So if we want to print them one at a time, we actually have to clear the string so it's empty for the next line.</p>
<p>I found myself wondering if that end-of-file check could be rolled into a <code>while let</code> similar to the idiomatic C while loop:</p>
<div class="language-text highlight"><pre><span></span><code>// C code
while ((bytes_read = read_line(line)) &gt; 0) {
    puts(line);
}
</code></pre></div>
<p>So in Rust that would be something like:</p>
<div class="language-text highlight"><pre><span></span><code>// INVALID Rust code
while (let bytes_read = reader.read_line(&amp;mut line)?) &gt; 0 {
    print!(&quot;{}&quot;, line);
    line.clear();
}
</code></pre></div>
<p>But that won't build due to the way <code>let</code> in this instance is actually doing pattern matching to look for an <code>Ok()</code>. I speculate.</p>
<p>So are we stuck in terms of making our buffered reader prettier? Not quite!</p>
<blockquote>
<p><img alt="Update!" src="../../common/images/update50.png" /> There are a few ways to do this beyond what I thought of. You can <code>while</code> loop on a block (which I didn't realize was possible):</p>
<div class="language-text highlight"><pre><span></span><code>while {
    let bytes_read = reader.read_line(&amp;mut line)?;
    bytes_read &gt; 0
} {
    print!(&quot;{line}&quot;);
    line.clear();
}
</code></pre></div>
<p>[HT Joe at <a href="https://osucascades.edu/">OSU-Cascades</a>]</p>
</blockquote>
<p>Digging around the <code>BufRead</code> trait, we find a method called <a href="https://doc.rust-lang.org/std/io/trait.BufRead.html#method.lines"><code>lines()</code></a>. This method returns an iterator that we can use to loop over the lines of the file, and it'll quit when done!</p>
<div class="language-text highlight"><pre><span></span><code>fn buffered_demo_iter() -&gt; Result&lt;(), Box&lt;dyn Error&gt;&gt; {
    // Open the file
    let file = File::open(&quot;input.txt&quot;)?;

    // Make a new buffered reader on the file
    let reader = BufReader::new(file);

    for line_result in reader.lines() {
        println!(&quot;{}&quot;, line_result?);
    }

    Ok(())
}
</code></pre></div>
<p>Much cleaner!</p>
<p>One difference is that we're getting a <code>Result</code> type back in <code>line_result</code> from the <code>for</code> loop. So we have to unwrap that, which I do in the <code>println!()</code>.</p>
<p>And it's <code>println!()</code> this time, instead of <code>print!()</code>. Apparently the trailing newline is stripped off when using the <code>lines()</code> iterator.</p>
<blockquote>
<p><img alt="Update!" src="../../common/images/update50.png" /> Here's another option, since <code>reader.lines()</code> is an iterator. We can just repeatedly call <code>.next()</code> to extract lines:</p>
<div class="language-text highlight"><pre><span></span><code>let mut lines = reader.lines();

while let Some(line) = lines.next() {
    println!(&quot;{}&quot;, line?);
}
</code></pre></div>
<p>[HT Joe at <a href="https://osucascades.edu/">OSU-Cascades</a>]</p>
</blockquote>
<p>Nowâwait a momentânothing is <code>mut</code> in our <code>for</code>-loop variant! But clearly at some deep level the <code>file</code> has to be <code>mut</code> to <code>read()</code> out of it. Let's dig. What's <code>reader.lines()</code> do?</p>
<div class="language-text highlight"><pre><span></span><code>fn lines(self) -&gt; Lines&lt;Self&gt;
</code></pre></div>
<p>Since it's just <code>self</code>, it's actually taking ownership of the <code>reader</code> <code>BufReader</code>. Which means we can't use the <code>reader</code> after the loop. In this case that's fine.</p>
<p>But if we wanted to use <code>reader</code> after the loop, we'd have to change the call to <code>.lines()</code> to be against a mutable borrow of <code>reader</code> (and it would have to be <code>mut</code>.</p>
<div class="language-text highlight"><pre><span></span><code>    let mut reader = BufReader::new(file);

    for line_result in (&amp;mut reader).lines() {
</code></pre></div>
<p>That works and we can then use <code>reader</code> after the loop is complete if we want.</p>
<p><code>lines()</code> is still taking ownership, but it's taking ownership of a mutable reference to the <code>reader</code>. So we could still use <code>reader</code> later. (<em>Am I saying this correctly?</em>)</p>
<p>However, this does <em>not</em> work:</p>
<div class="language-text highlight"><pre><span></span><code>    let reader = BufReader::new(file);

    for line_result in (&amp;reader).lines() {
</code></pre></div>
<p>Why not?</p>
<p>I made the following toy program to mess with it where I implemented traits for various borrows:</p>
<div class="language-text highlight"><pre><span></span><code>struct Bar {
    x: usize,
}

impl Foo for Bar {   // Ownership
    fn foo(self) {
        println!(&quot;{}&quot;, self.x)
    }
}

impl Foo for &amp;Bar {  // Borrow
    fn foo(self) {
        println!(&quot;{}&quot;, self.x)
    }
}

impl Foo for &amp;mut Bar { // Mutable borrow
    fn foo(self) {
        println!(&quot;{}&quot;, self.x)
    }
}

trait Foo {
    fn foo(self);  // Ownership of self
}

fn main() {
    let mut b = Bar { x: 12 };
    (&amp;mut b).foo(); // works
    (&amp;b).foo();     // works
    b.foo();        // works
    //b.foo();      // error (b is moved by the previous call)
}
</code></pre></div>
<p>And that works as long as I have <code>impl Foo</code> for the various forms of <code>Bar</code>. So that means we need to have an <code>impl BufRead</code> for all the supported types, and apparently <code>&amp;BufReader</code> isn't one of them...?</p>
<blockquote>
<p><img alt="Update!" src="../../common/images/update50.png" /> Looking in the <a href="https://doc.rust-lang.org/std/io/trait.BufRead.html#implementors"><code>BufRead</code> implementors</a> section of the docs, we see the following (among others that aren't pertinent):</p>
<div class="language-text highlight"><pre><span></span><code>impl&lt;R: ?Sized + Read&gt; BufRead for BufReader&lt;R&gt;  // 1
impl&lt;B: BufRead + ?Sized&gt; BufRead for &amp;mut B     // 2
</code></pre></div>
<p>So it's defined for:</p>
<ol>
<li>Any <code>BufReader</code> that implements <code>Read</code>. That's my <code>reader.lines()</code>.</li>
<li>Any <code>&amp;mut</code> to a thing that implements <code>BufRead</code>. That's my <code>(&amp;mut reader).lines()</code>.
</li>
</ol>
<p>But that's it. Nothing in there that implements it for a <code>&amp;BufReader</code>. So <code>(&amp;reader).lines()</code> doesn't work.</p>
<p>[HT <a href="https://mastodon.sdf.org/@penguin_brian@hachyderm.io/115394532632498410">Brian May</a>]</p>
</blockquote>
<p>There might be more to it than this, but that's my new mental model so far.</p>
<h2 id="implementing-the-read-trait">Implementing the <code>Read</code> Trait<a class="headerlink" href="#implementing-the-read-trait" title="Permanent link">&para;</a></h2>
<p>If we look at what <code>BufReader::new()</code> takes, we see this:</p>
<div class="language-text highlight"><pre><span></span><code>impl&lt;R: Read&gt; BufReader&lt;R&gt;

pub fn new(inner: R) -&gt; BufReader&lt;R&gt;
</code></pre></div>
<p>So that first line is saying "In the implementation of <code>BufReader</code> for any type <code>R</code> as long as <code>R</code> implements the <code>Read</code> trait..."</p>
<p>And the second is saying "We'll have a function <code>new</code> that takes an argument of type <code>R</code> (again <code>R</code> must implement the <code>Read</code> trait) and returns a new <code>BufReader</code> of that type."</p>
<p>It's generic! We can use any type to create our <code>BufReader</code> <em>as long as it implements the<code>Read</code> trait</em>.</p>
<p>And I have one! For this, we'll have a <code>DataProvider</code> object that has an array of bytes and implements the <code>Read</code> trait. If it implements that, it will be good to use with <code>BufReader</code>.</p>
<div class="language-text highlight"><pre><span></span><code>struct DataProvider {
    data: &amp;&#39;static [u8],
    offset: usize,
}

impl DataProvider {
    fn new(data: &amp;&#39;static [u8]) -&gt; DataProvider {
        DataProvider {
            data,
            offset: 0,
        }
    }
}
</code></pre></div>
<p>All it's going to do it keep track of the current offset and copy bytes out when its <code>read()</code> method is called. We just have to make sure we match the function signature in the <a href="https://doc.rust-lang.org/std/io/trait.Read.html"><code>Read</code> trait</a>.</p>
<div class="language-text highlight"><pre><span></span><code>impl Read for DataProvider {
    fn read(&amp;mut self, buf: &amp;mut [u8]) -&gt; std::io::Result&lt;usize&gt; {
        let start = self.offset;
        let mut end = self.offset + buf.len();
        let maximum = self.data.len();

        if end &gt; maximum {
            end = maximum;
        }

        let bytes_copied = end - start;
        self.offset += bytes_copied;

        let src_bytes = &amp;self.data[start..start + bytes_copied];
        buf[..bytes_copied].copy_from_slice(src_bytes);

        Ok(bytes_copied)
    }
}
</code></pre></div>
<p>A couple fun things there. We let <code>src_bytes</code> be a slice of our array from the starting point (which was the old <code>offset</code> to the ending (which might be the end of the data, or might be the end of the destination buffer).</p>
<p>And then we use the <code>copy_from_slice()</code> method to copy those bytes from the source into the destination buffer. And notably, we might only want to copy over <em>some</em> of <code>buf</code> (in case we have fewer bytes remaining than <code>buf</code> is big). And that's why the receiver is the slice <code>buf[..bytes_copied]</code>.</p>
<p>And then we return <code>Ok(bytes_copied)</code>, and <code>bytes_copied</code> will be <code>0</code> once we reach the end of our data, indicating the equivalent of "end-of-file".</p>
<p>We can use it just like this:</p>
<div class="language-text highlight"><pre><span></span><code>fn provider_demo() -&gt; std::io::Result&lt;()&gt; {
    let dp = DataProvider::new(b&quot;line 0\nline 1\nline 2\nline 3\n&quot;);

    let reader = BufReader::new(dp);

    for line_result in reader.lines() {
        println!(&quot;{}&quot;, line_result?);
    }

    Ok(())
}
</code></pre></div>
<p>Works!</p>
<blockquote>
<p><img alt="Update!" src="../../common/images/update50.png" /> Adding my two <code>usize</code>s for <code>end</code> can overflow. This will either panic in a debug build or wrap around in a release build. Clamping it breaks the logic, so the best thing to do would be a <code>checked_add()</code> that returns an <code>Option</code> and return an <code>Error</code> if overflow happened.</p>
<blockquote>
<p>Further, to avoid the overflow entirely, we should reverse the logic from an addition to a subtraction. I think somewhere in the depths of my brain I knew this, but had forgotten. This also simplifies the code a bit, especially if we use <code>min</code> for the clamping.</p>
<div class="language-text highlight"><pre><span></span><code>impl Read for DataProvider {
    fn read(&amp;mut self, buf: &amp;mut [u8]) -&gt; std::io::Result&lt;usize&gt; {
        let start = self.offset;
        let remaining = self.data.len() - self.offset;
        let bytes_copied = std::cmp::min(remaining, buf.len());

        let src_bytes = &amp;self.data[start..start + bytes_copied];
        buf[..bytes_copied].copy_from_slice(src_bytes);

        self.offset += bytes_copied;

        Ok(bytes_copied)
    }
}
</code></pre></div>
</blockquote>
<p>[HT Jonathan from <a href="https://www.deschutestechguild.com/">Deschutes Tech Guild</a> for both]</p>
</blockquote>
<p>Technically <code>line_result</code> is <code>std::io::Result&lt;String&gt;</code>. But I didn't want to return some <code>Ok(String::from(""))</code> nastiness. So I changed it to <code>Result&lt;()&gt;</code> which is fine.</p>
<blockquote>
<p>However I was still confused over why I'm allowed to do this when that's not the <code>Result</code> that we get from <code>line_result</code>. Apparently it's due to the fact that the <code>?</code> really only has anything to do with the error portion of the result, and those are all compatible.</p>
<p>[HT Jonathan from <a href="https://www.deschutestechguild.com/">Deschutes Tech Guild</a>]</p>
</blockquote>
<h2 id="to-do-list">To-Do List<a class="headerlink" href="#to-do-list" title="Permanent link">&para;</a></h2>
<ul>
<li>How the <code>From</code> trait works.</li>
<li>How to implement iterators.</li>
<li>Everything else.</li>
</ul>
<h2 id="comments">Comments<a class="headerlink" href="#comments" title="Permanent link">&para;</a></h2>
<p><a href="https://mastodon.sdf.org/@beejjorgensen/115391410243105919">View Comments</a> <a href="https://mastodon.sdf.org/@beejjorgensen/115391410243105919">Reply</a></p>
<p>Click on "View Comments" to see the comments.</p>
<p><a href="http://beej.us/blog/"><strong>Blog</strong></a>  â¡  <a href="mailto:beej@beej.us"><strong>beej@beej.us</strong></a>  â¡  <a href="http://beej.us/"><strong>Home page</strong></a></p>







  
    
  
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="最后更新">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date" title="2026年2月22日 14:40:15 UTC">2026-02-22</span>
  </span>

    
    
    
    
  </aside>


  



  <form class="md-feedback" name="feedback" hidden>
    <fieldset>
      <legend class="md-feedback__title">
        这篇文章有帮助吗？
      </legend>
      <div class="md-feedback__inner">
        <div class="md-feedback__list">
          
            <button class="md-feedback__icon md-icon" type="submit" title="有帮助" data-md-value="1">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 9v12H1V9zm4 12a2 2 0 0 1-2-2V9c0-.55.22-1.05.59-1.41L14.17 1l1.06 1.06c.27.27.44.64.44 1.05l-.03.32L14.69 8H21a2 2 0 0 1 2 2v2c0 .26-.05.5-.14.73l-3.02 7.05C19.54 20.5 18.83 21 18 21zm0-2h9.03L21 12v-2h-8.79l1.13-5.32L9 9.03z"/></svg>
            </button>
          
            <button class="md-feedback__icon md-icon" type="submit" title="没帮助" data-md-value="0">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 15V3h4v12zM15 3a2 2 0 0 1 2 2v10c0 .55-.22 1.05-.59 1.41L9.83 23l-1.06-1.06c-.27-.27-.44-.64-.44-1.06l.03-.31.95-4.57H3a2 2 0 0 1-2-2v-2c0-.26.05-.5.14-.73l3.02-7.05C4.46 3.5 5.17 3 6 3zm0 2H5.97L3 12v2h8.78l-1.13 5.32L15 14.97z"/></svg>
            </button>
          
        </div>
        <div class="md-feedback__note">
          
            <div data-md-value="1" hidden>
              
              
                
              
              
              
                
                
              
              感谢反馈！
            </div>
          
            <div data-md-value="0" hidden>
              
              
                
              
              
              
                
                
              
              感谢反馈！我们会改进。
            </div>
          
        </div>
      </div>
    </fieldset>
  </form>


                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2026 - OpenClaw
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
    <a href="https://github.com/mrgolftech" target="_blank" rel="noopener" title="GitHub" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.sections", "navigation.expand", "navigation.top", "search.suggest", "search.highlight", "search.share", "content.code.copy", "content.action.edit"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>