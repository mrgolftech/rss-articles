
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="技术博客文章聚合 - Hacker News 2025年最受欢迎的博客">
      
      
        <meta name="author" content="OpenClaw">
      
      
        <link rel="canonical" href="https://mrgolftech.github.io/rss-articles/danielchasehooper.com/Hot%20reloading%20is%20better%20than%20SwiftUI%20previews_20260205/">
      
      
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.3">
    
    
      
        <title>Hot reloading is better than SwiftUI previews - Hacker News 精选博客</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#hot-reloading-is-better-than-swiftui-previews" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../.." title="Hacker News 精选博客" class="md-header__button md-logo" aria-label="Hacker News 精选博客" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Hacker News 精选博客
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Hot reloading is better than SwiftUI previews
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="切换到深色模式"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="切换到深色模式" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="切换到浅色模式"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="切换到浅色模式" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="分享" aria-label="分享" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/mrgolftech/rss-articles" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    rss-articles
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  首页

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../blogs/" class="md-tabs__link">
        
  
  
    
  
  所有博客

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Hacker News 精选博客" class="md-nav__button md-logo" aria-label="Hacker News 精选博客" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Hacker News 精选博客
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/mrgolftech/rss-articles" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    rss-articles
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    首页
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blogs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    所有博客
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/mrgolftech/rss-articles/edit/master/docs/danielchasehooper.com/Hot reloading is better than SwiftUI previews_20260205.md" title="编辑此页" class="md-content__button md-icon" rel="edit">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75z"/></svg>
    </a>
  
  


<h1 id="hot-reloading-is-better-than-swiftui-previews">Hot reloading is better than SwiftUI previews<a class="headerlink" href="#hot-reloading-is-better-than-swiftui-previews" title="Permanent link">&para;</a></h1>
<p><strong>来源:</strong> https://danielchasehooper.com
<strong>链接:</strong> https://danielchasehooper.com/posts/hot-reloading-swiftui/
<strong>日期:</strong> Mon, 13 Oct 2025 00:00:00 +0000</p>
<hr />
<p><a href="https://danielchasehooper.com/">Daniel Hooper</a></p>
<p><a href="https://danielchasehooper.com/">Home</a> ・ <a href="https://danielchasehooper.com/posts">Articles</a> ・ <a href="https://danielchasehooper.com/#projects">Projects</a> ・ <a href="https://danielchasehooper.com/about">About</a> ・ <a href="https://x.com/danielchooper">X.com </a><a href="https://bsky.app/profile/danielchooper.bsky.social">Bluesky </a><a href="https://mastodon.gamedev.place/@danielchooper">Mastodon</a> <a href="https://danielchasehooper.com/feed.xml">RSS</a></p>
<h1 id="hot-reloading-is-better-than-swiftui-previews_1">Hot reloading is better than SwiftUI previews<a class="headerlink" href="#hot-reloading-is-better-than-swiftui-previews_1" title="Permanent link">&para;</a></h1>
<p>October 13, 2025・14 minute read</p>
<p>There is a better way than Xcode Previews to quickly iterate on your app. It's called "Hot Reloading". Here you can see it in action: the macOS app on the left is changing dynamically in response to my code changes on the right.</p>
<p>Your browser does not support the video tag. <img alt="" src="todo.png" /></p>
<p>That hot reloading experience is better than Xcode Previews because:</p>
<ul>
<li>No need to create mock preview data, that's the <em>real</em> app with <em>real</em> data</li>
<li>Both the UI <em>and</em> the business logic can be updated</li>
<li>The app doesn't reset to the root screen after each code edit. That means you can edit popups, panels, and deeply nested screens in the context they get shown in.</li>
<li>Xcode isn't required — that app on the right is Sublime Text</li>
</ul>
<p>I'll show you how it's done by making a Todo app</p>
<h2 id="the-plan">The Plan<a class="headerlink" href="#the-plan" title="Permanent link">&para;</a></h2>
<p>The key to hot reloading is "dynamic libraries", which allow a running program to load and call new functions without restarting. The plan for using dynamic libraries to hot reload is roughly:</p>
<ol>
<li>Compile the app's UI and logic into a library</li>
<li>Make a host app that uses the library's UI</li>
<li>When the library changes, reload it in the host app</li>
<li>Give the new library the old library's state</li>
</ol>
<p>I like this approach because it doesn't require any dependencies and is only 120 lines. While it does require a certain project structure, that's simpler and more understandable than patching an unmodified program at runtime1. You can do this in <a href="https://github.com/karl-zylinski/odin-raylib-hot-reload-game-template">other languages</a> and on other operating systems2. I'll walk you through it line by line. If you just want to read the finished code, you can get it at the end of this article.</p>
<h2 id="the-naive-approach">The Naïve Approach<a class="headerlink" href="#the-naive-approach" title="Permanent link">&para;</a></h2>
<p>Let's start with step 1 of the plan: build a dynamic library that contains our UI. The library we build here will get loaded by the app we create in step 2. We won't be using Xcode, so create <code>library.swift</code> in a new empty directory and with this code:</p>
<p>library.swift</p>
<div class="language-text highlight"><pre><span></span><code>import SwiftUI

public func createView() -&gt; some View {
  return Text(&quot;Hello World!&quot;)
}
</code></pre></div>
<p>And we can compile that with a <code>build_library.sh</code> shell script:</p>
<p>build_library.sh</p>
<div class="language-text highlight"><pre><span></span><code>#!/usr/bin/env bash
set -euo pipefail
swiftc -emit-library -o UIPreview.dylib library.swift
</code></pre></div>
<p>Make it executable with <code>chmod +x build_library.sh</code>, and give it a run with <code>./build_library.sh</code>. That creates our dynamic library <code>UIPreview.dylib</code>.</p>
<p>The library can be loaded with <code>dlopen()</code>, which asks dyld (macOS's dynamic linker) to load the library's code into our process's address space. Then to call functions in the library, we look up the function's address by name with <code>dlsym()</code>.</p>
<p>In Swift that looks like this:</p>
<p>loader.swift</p>
<div class="language-text highlight"><pre><span></span><code>import SwiftUI
guard 
  let lib = dlopen(&quot;UIPreview.dylib&quot;, 0),
  let symbol = dlsym(lib, &quot;createView&quot;) 
else {
  fatalError(String(cString: dlerror()))
}
let createView = unsafeBitCast(symbol, to: (() -&gt; View).self)
</code></pre></div>
<p>Let's run it</p>
<div class="language-text highlight"><pre><span></span><code>$ swift loader.swift 
Fatal error: dlsym(0x721c7f70, createView): symbol not found
</code></pre></div>
<p>Uh oh.</p>
<p>There is no symbol named "createView" thanks to Swift's <a href="https://en.wikipedia.org/wiki/Name_mangling">name mangling</a>, which renames every function to ensure <a href="https://en.wikipedia.org/wiki/Function_overloading">overloaded functions</a> have unique names3. This is a problem for us because we need the name of the function as it appears in the library in order call it. Let's see what the mangled name is using <code>nm</code>:</p>
<div class="language-text highlight"><pre><span></span><code>$ nm -g --defined-only UIPreview.dylib
0000000000000cc0 T _$s9UIPreview10createViewQryF
0000000000000dd8 S _$s9UIPreview10createViewQryFQOMQ
</code></pre></div>
<p>We can use <code>swift demangle</code> to see what that alphabet soup means (the leading underscore is not part of symbol names):</p>
<div class="language-text highlight"><pre><span></span><code>$ swift demangle &#39;$s9UIPreview10createViewQryF&#39;
$s9UIPreview10createViewQryF ---&gt; UIPreview.createView() -&gt; some

$ swift demangle &#39;$s9UIPreview10createViewQryFQOMQ&#39;
$s9UIPreview10createViewQryFQOMQ ---&gt; opaque type descriptor for 
    opaque return type of UIPreview.createView() -&gt; some
</code></pre></div>
<p>Looks like <code>$s9UIPreview10createViewQryF</code> is our function. We can update <code>loader.swift</code> with that name and try again</p>
<p>loader.swift</p>
<div class="language-text highlight"><pre><span></span><code>import SwiftUI
guard 
  let lib = dlopen(&quot;UIPreview.dylib&quot;, 0),
  let symbol = dlsym(lib, &quot;$s9UIPreview10createViewQryF&quot;) 
else {
  fatalError(String(cString: dlerror()))
}
let createView = unsafeBitCast(symbol, to: (() -&gt; View).self)
</code></pre></div>
<p>Running that reveals the second problem:</p>
<div class="language-text highlight"><pre><span></span><code>$ swift loader.swift 
Fatal error: Can&#39;t unsafeBitCast between types of different sizes
</code></pre></div>
<p>What's happening is <code>dlsym()</code> returns an 8 byte pointer to the function, but Swift functions require 16 bytes4 of information to call (an 8 byte function pointer plus 8 bytes of context about captured variables). Rather than reverse engineer the 16 byte Swift function type, I went another route…</p>
<h2 id="bridging-through-c">Bridging Through C<a class="headerlink" href="#bridging-through-c" title="Permanent link">&para;</a></h2>
<p>We can avoid both the name mangling and Swift function type by exporting <code>createView</code> as a C function. This is done using Swift's <code>@_cdecl()</code> attribute. We'll keep the exported name the same as the Swift function name.</p>
<p>library.swift</p>
<div class="language-text highlight"><pre><span></span><code>@_cdecl(&quot;createView&quot;)
public func createView() -&gt; some View {
</code></pre></div>
<p>Now we have to change the return type because C functions aren't able to return Swift types, and <code>some View</code> is a Swift type. The workaround is to place the SwiftUI View inside a <code>NSHostingView</code>5 and return that:</p>
<p>library.swift</p>
<div class="language-text highlight"><pre><span></span><code>@_cdecl(&quot;createView&quot;)
public func createView() -&gt; NSView {
  return NSHostingView(rootView: Text(&quot;Hello World!&quot;))
}
</code></pre></div>
<p>That works because <code>NSHostingView</code> is an Objective‑C type, and those <em>can</em> be returned from a C function.</p>
<p>Now for the interesting stuff: making the App.</p>
<h2 id="the-app">The App<a class="headerlink" href="#the-app" title="Permanent link">&para;</a></h2>
<p>Now for Step 2 of the plan: making an app to host our library from step 1. Make <code>app.swift</code> and start with the basics: showing a window and terminating when it closes.</p>
<p>app.swift</p>
<div class="language-text highlight"><pre><span></span><code>import SwiftUI
import AppKit

@main
struct Main: App {
  var body: some Scene {
    Window(&quot;Hot Reloading&quot;, id:&quot;&quot;) {
      DylibView()
      .onAppear {
        NSApplication.shared.setActivationPolicy(.regular)
        NSApplication.shared.activate(ignoringOtherApps: true)
      }
      .onDisappear {
        NSApplication.shared.terminate(nil)
      }
    }
  }
}
</code></pre></div>
<p>The <code>onAppear</code> code brings the window to foreground on launch. macOS does that automatically for app bundles, but for simplicity we'll compile to a plain executable.</p>
<p>Now we implement <code>DylibView</code>:</p>
<p>app.swift</p>
<div class="language-text highlight"><pre><span></span><code>struct DylibView: NSViewRepresentable {
  func makeCoordinator() -&gt; DylibViewCoordinator {
    return DylibViewCoordinator()
  }

  func makeNSView(context: Context) -&gt; NSView {
    return context.coordinator.container
  }

  func updateNSView(_ nsView: NSView, context: Context) {}
}
</code></pre></div>
<p>That uses the <code>NSViewRepresentable</code> protocol to bridge the gap between the NSView from our library and the SwiftUI window of the host app. <code>NSViewRepresentable</code> "undoes" what <code>NSHostingView</code> did in <code>library.swift</code>, completing the SwiftUI → NSView → SwiftUI round trip.</p>
<p>We don't do anything in <code>updateNSView</code> because our updates will happen outside of SwiftUI's typical update cycle.</p>
<p>That was mostly boilerplate code, the interesting stuff is in <code>DylibViewCoordinator</code>:</p>
<p>app.swift</p>
<div class="language-text highlight"><pre><span></span><code>class DylibViewCoordinator {
  let dylibName = &quot;UIPreview.dylib&quot;
  var library:UnsafeMutableRawPointer?
  var container = NSView()

  init() {
    update()
  }

  func update() {
    guard let newLibrary = openLibrary() else {
      print(String(cString: dlerror()))
      return
    }

    guard let viewSym = dlsym(newLibrary, &quot;createView&quot;)
    else {
      print(String(cString: dlerror()))
      dlclose(newLibrary)
      return
    }

    typealias CreateViewFn =
      (@convention(c) () -&gt; NSView)
    let createView  = unsafeBitCast(viewSym, 
                                    to: CreateViewFn.self)

    let dylibView = createView()
    dylibView.autoresizingMask = [NSView.AutoresizingMask.width, NSView.AutoresizingMask.height]
    dylibView.frame = container.bounds
    container.addSubview(dylibView)
  }
</code></pre></div>
<p>As we've seen before, that opens the library, finds the <code>createView</code> symbol, and casts it to a C function type with <code>@convention(c)</code>.</p>
<p>The <code>dylibView</code> is placed inside <code>container</code>, which is what we handed to SwiftUI in <code>DylibView.makeNSView()</code>. When we implement reloading later on, the container view makes it possible to switch out <code>dylibView</code> right under SwiftUI's nose.</p>
<p>Here's the code for <code>openLibrary</code>:</p>
<p>app.swift, in DylibViewCoordinator</p>
<div class="language-text highlight"><pre><span></span><code>func openLibrary() -&gt; UnsafeMutableRawPointer? {
  return dlopen(dylibName, RTLD_LOCAL | RTLD_FIRST);
}
</code></pre></div>
<p>For now it's just a wrapper around <code>dlopen</code>. It'll grow when we add hot reloading.</p>
<p>And finally we get rid of the view and close the library in <code>deinit</code>. We have to close the library after getting rid of the view because the view may be using the library's code.</p>
<p>app.swift, in DylibViewCoordinator</p>
<div class="language-text highlight"><pre><span></span><code>  deinit {
    container.subviews.first?.removeFromSuperview()
    if library != nil { dlclose(library) }
  }
} // end of DylibViewCoordinator
</code></pre></div>
<p>let's make <code>run.sh</code> to compile and run the app:</p>
<p>run.sh</p>
<div class="language-text highlight"><pre><span></span><code>#!/usr/bin/env bash
set -euo pipefail
./build_library.sh
swiftc -o UIPreview -parse-as-library src/app.swift
./UIPreview
</code></pre></div>
<p>After <code>chmod +x run.sh</code> and running it, you should see this:</p>
<p><img alt="The host app showing the text 'hello world'" src="/posts/hot-reloading-swiftui/hello.png" /></p>
<p>Woo! It's not very interesting, but we'll build it out. Let's get reloading working first.</p>
<h2 id="reloading">Reloading<a class="headerlink" href="#reloading" title="Permanent link">&para;</a></h2>
<p>So far all we've done is make a normal app but with a lot more steps. It will all be worth it once hot reloading works.</p>
<p>The first change is to call <code>update()</code> on a timer:</p>
<p>app.swift</p>
<div class="language-text highlight"><pre><span></span><code>class DylibViewCoordinator {
  let dylibName = &quot;UIPreview.dylib&quot;
  var library:UnsafeMutableRawPointer?
  var container = NSView()
  var timer: Timer?

  init() {
    update()
    timer = .scheduledTimer(withTimeInterval: 1.0,
                            repeats: true)
    { [weak self] _ in
      self?.update()
    };
  }
</code></pre></div>
<p>Now that update gets called multiple times, we need to remove the old view before adding the new one. We also need to close the old library:</p>
<p>app.swift, in update()</p>
<div class="language-text highlight"><pre><span></span><code>  guard let viewSym = dlsym(newLibrary, &quot;createView&quot;)
  else {
    print(String(cString: dlerror()))
    dlclose(newLibrary)
    return
  }

  container.subviews.first?.removeFromSuperview()

  if library != nil { dlclose(library) }
  library = newLibrary

  typealias CreateViewFn =
    (@convention(c) () -&gt; NSView)
  let createView  = unsafeBitCast(viewSym, 
                                  to: CreateViewFn.self)
</code></pre></div>
<p>The timer gets cleaned up in <code>deinit</code>:</p>
<p>app.swift, in DylibViewCoordinator</p>
<div class="language-text highlight"><pre><span></span><code>deinit {
  timer?.invalidate()
  container.subviews.first?.removeFromSuperview()
  if library != nil { dlclose(library) }
}
</code></pre></div>
<p>If you ran the app now, it still wouldn't update when the library changes. That's because of this <code>dlopen</code> feature:</p>
<blockquote>
<p>A second call to dlopen() with the same path will return the same handle, but the internal reference count for the handle will be incremented.</p>
<p>— dlopen man page</p>
</blockquote>
<p>So even if the <code>UIPreview.dylib</code> file changed, <code>dlopen</code> will see it's the same path as last time, and it won't load the new version. I worked around this by copying the library to a new file before every update.</p>
<p>We need two more properties in <code>DylibViewCoordinator</code> to support that:</p>
<p>app.swift</p>
<div class="language-text highlight"><pre><span></span><code>class DylibViewCoordinator {
  let dylibName = &quot;UIPreview.dylib&quot;
  var library:UnsafeMutableRawPointer?
  var container = NSView()
  var timer: Timer?
  var fileNameToggle = false
  let fm = FileManager.default
</code></pre></div>
<p>And we update <code>openLibrary</code> to do the copying:</p>
<p>app.swift, in DylibViewCoordinator</p>
<div class="language-text highlight"><pre><span></span><code>func openLibrary() -&gt; UnsafeMutableRawPointer? {
  let tmpDylibName = &quot;\(fileNameToggle).dylib&quot;
  try? fm.removeItem(atPath: tmpDylibName)
  do {
    try fm.copyItem(atPath: dylibName,
                    toPath: tmpDylibName)
  } catch {
    print(&quot;Error: couldn&#39;t copy dylib&#39;:  \(error)&quot;)
    return nil
  }
  fileNameToggle.toggle()

  return dlopen(tmpDylibName, RTLD_LOCAL | RTLD_FIRST);
}
</code></pre></div>
<p>It alternates between the arbitrary names "true.dylib" and "false.dylib", which is enough to cause <code>dlopen</code> to consider the path "new" and open it.</p>
<p>Let's test:</p>
<ol>
<li>Run <code>./run.sh</code></li>
<li>Change the <code>Text("Hello World")</code> string in <code>library.swift</code> and <strong>save the file</strong></li>
<li>In another terminal window, run <code>./build_library.sh</code></li>
</ol>
<p>You should see the changes take effect in the app within one second of rebuilding the library!</p>
<h2 id="conservative-updates">Conservative Updates<a class="headerlink" href="#conservative-updates" title="Permanent link">&para;</a></h2>
<p>It feels a little wasteful to reload the UI every second even if nothing changed. The "right" way to do this would be to use the <a href="https://developer.apple.com/documentation/coreservices/file_system_events">FSEvents API</a> to monitor the library's file path, but that takes more code than I'm willing to cover in this article. As a compromise, we can check the file modification time and only update if it changes.</p>
<p>We remember the file's last modification time:</p>
<p>app.swift, in DylibViewCoordinator</p>
<div class="language-text highlight"><pre><span></span><code>var timer: Timer?
var lastModified: Date?

init() {
</code></pre></div>
<p>And only proceed through <code>update()</code> if the file modification time changed:</p>
<p>app.swift, in DylibViewCoordinator.update()</p>
<div class="language-text highlight"><pre><span></span><code>  func update() {
    guard
      let attrs = try? fm.attributesOfItem(atPath: dylibName),
      let modified = attrs[.modificationDate] as? Date,
      lastModified != modified
    else { return }
    lastModified = modified;

    guard let newLibrary = openLibrary() else {
</code></pre></div>
<p>If you restart the app with <code>./run.sh</code>, it should only reload the library when it changes.</p>
<h2 id="a-full-todo-app">A Full Todo App<a class="headerlink" href="#a-full-todo-app" title="Permanent link">&para;</a></h2>
<p>Since hot reloading "hello world" is boring, let's write a todo app while using hot reloading. Start the app with <code>./run.sh</code> and leave it running while you write the following code.</p>
<p>This is the state we'll need in <code>library.swift</code>:</p>
<p>library.swift</p>
<div class="language-text highlight"><pre><span></span><code>struct Todo: Identifiable, Equatable {
  let id = UUID()
  var title: String
}

class AppState: ObservableObject {
  @Published var newItem = &quot;&quot;
  @Published var todos: [Todo] = [
    Todo(title: &quot;Read &#39;Computer Systems: A Programmer&#39;s Perspective&#39;&quot;),
    Todo(title: &quot;Learn C&quot;),
    Todo(title: &quot;Study algorithms and data structures&quot;),
  ]
}
</code></pre></div>
<p>If there were a real app, the todo items would be loaded from disk or the network, but we'll just hardcode three items for this example. Hot reloading is especially nice because data is loaded once at startup, and not every time you make a change.</p>
<p>That state is used by the view:</p>
<p>library.swift</p>
<div class="language-text highlight"><pre><span></span><code>struct TodoListView: View {
  @ObservedObject var state: AppState

  var body: some View {
    // todo
  }
}
</code></pre></div>
<p>And we have to update <code>createView</code> to return the <code>TodoListView</code>:</p>
<p>library.swift</p>
<div class="language-text highlight"><pre><span></span><code>@_cdecl(&quot;createView&quot;)
public func createView() -&gt; NSView {
  return NSHostingView(rootView: TodoListView(state: AppState()))
}
</code></pre></div>
<p>Now there is enough code in place that we can hot reload as we build out the <code>body</code> of <code>TodoListView</code>. You may want to set up your editor to make reloading easier — I configured mine so the cmd + b shortcut both saves the current file and runs <code>./build_library.sh</code></p>
<p>library.swift, in TodoListView</p>
<div class="language-text highlight"><pre><span></span><code>var body: some View {
  List {
    ForEach(state.todos) { todo in
      Text(todo.title).padding()
    }
    .onDelete { indexSet in
      state.todos.remove(atOffsets: indexSet)
    }
    .onMove { from, to in
      state.todos.move(fromOffsets: from, toOffset: to)
    }

    HStack {
      TextField(&quot;New todo&quot;, text: $state.newItem)
      Button(&quot;Add&quot;) {
        if !state.newItem.isEmpty {
          state.todos.append(Todo(title: state.newItem))
          state.newItem = &quot;&quot;
        }
      }
    }
    .padding()
  }
}
</code></pre></div>
<p>I like typing that in bit by bit and running <code>./build_library.sh</code> so I can experience the magic of hot reloading.</p>
<p>You should end up with this: <img alt="The host app showing the text 'hello world'" src="/posts/hot-reloading-swiftui/todo.png" /></p>
<h1 id="preserving-state">Preserving State<a class="headerlink" href="#preserving-state" title="Permanent link">&para;</a></h1>
<p>Try adding a todo item in the running app and triggering a hot reload. The item will disappear! Every time the library is reloaded, <code>createView</code> creates whole a new app state.</p>
<p>We can fix that by remembering the state between reloads. I did this by adding two functions to our library: <code>createState</code>, which initializes the state and returns it to the host app for safe keeping, and <code>createStatefulView</code>, which initialize the UI using the saved state.</p>
<p>library.swift</p>
<div class="language-text highlight"><pre><span></span><code>@_cdecl(&quot;createState&quot;)
public func createState() -&gt; UnsafeMutableRawPointer? {
    return Unmanaged.passRetained(AppState()).toOpaque()
}

@_cdecl(&quot;createStatefulView&quot;)
public func createStatefulView(state_ptr: UnsafeMutableRawPointer) -&gt; NSView {
  let state = Unmanaged&lt;AppState&gt;.fromOpaque(state_ptr).takeUnretainedValue()
  return NSHostingView(rootView: TodoListView(state: state))
}
</code></pre></div>
<p>And then we need to change <code>DylibViewCoordinator.update()</code> to use these new functions. Here's the <code>update()</code> function with changes highlighted:</p>
<p>app.swift, in DylibViewCoordinator.update()</p>
<div class="language-text highlight"><pre><span></span><code>func update() {

  guard let newLibrary = openLibrary() else { return }

  guard 
    let createViewSym = dlsym(newLibrary, &quot;createStatefulView&quot;),
    let createStateSym = dlsym(newLibrary, &quot;createState&quot;)
  else {
    print(String(cString: dlerror()))
    dlclose(newLibrary)
    return
  }

  container.subviews.first?.removeFromSuperview()

  if let old = library {
    dlclose(old)
  }

  if state == nil {
    typealias CreateStateFn = 
    @convention(c) () -&gt; UnsafeMutableRawPointer?
    let createState = unsafeBitCast(createStateSym, to: CreateStateFn)
    state = createState()
  }

  library = newLibrary

  typealias CreateViewFn = 
    @convention(c) (UnsafeMutableRawPointer) -&gt; NSView
  let createView  = unsafeBitCast(createViewSym, to: CreateViewFn)
  let dylibView = createView(state!)
  dylibView.autoresizingMask = [NSView.AutoresizingMask.width, NSView.AutoresizingMask.height]
  dylibView.frame = container.bounds
  container.addSubview(dylibView)
}
</code></pre></div>
<p><code>update()</code> now creates a new state if we don't have one already. On every reload the state is passed to the new <code>createView</code> function.</p>
<p>You can now run the app, make changes to the todo list, trigger a hot reload, and have the app update — all without clearing the todo list changes.</p>
<h2 id="state-format-consistency">State Format Consistency<a class="headerlink" href="#state-format-consistency" title="Permanent link">&para;</a></h2>
<p>If you change the in-memory representation of <code>AppState</code>, such as by adding or removing a property, the app will probably crash. It happens because the new library code expects to work with the new <code>AppState</code>, but the app gives it an instance of an old <code>AppState</code>.</p>
<p>There's 2 ways you could deal with this:</p>
<ol>
<li>Accept that if you change the memory layout you'll have to restart the app</li>
<li>Add a <code>version</code> property to the state that you increment whenever you edit the state. The library can check it and create a new state if it's handed an old version. That will reset the app, but it's better than crashing or having to manually restart it.</li>
</ol>
<h2 id="hot-reloading-xcode-projects">Hot Reloading Xcode Projects<a class="headerlink" href="#hot-reloading-xcode-projects" title="Permanent link">&para;</a></h2>
<p>It is possible to use these techniques in an Xcode project. I didn't cover that because I wanted to focus on the underlying techniques. The gist is:</p>
<ol>
<li>Create a new App target that builds <code>app.swift</code> from this page.</li>
<li>Create a new Library target consisting of your UI and logic files</li>
<li>Add the <code>createState</code> and <code>createStatefulView</code> functions from this page's <code>library.swift</code> to your library target. Update them to use your app's state and root View.</li>
<li>Look in the Xcode products folder to get the path to the compiled library, and set <code>dylibName</code> in <code>app.swift</code> to that path.</li>
<li>In Xcode, run the scheme for the app target from step #1.</li>
<li>Switch to the library scheme and build whenever you want to hot reload.</li>
</ol>
<h2 id="sample-code">Sample code<a class="headerlink" href="#sample-code" title="Permanent link">&para;</a></h2>
<p>Get the code by joining my mailing list and confirming your email. Unsubscribe from future articles at any time.</p>
<p>Join Mailing List</p>
<h2 id="see-also">See also<a class="headerlink" href="#see-also" title="Permanent link">&para;</a></h2>
<p>I'm making a build visualizer to help speed up slow builds. <a href="/posts/syscall-build-snooping">Read more</a></p>
<p>I wrote about <a href="/posts/why-swift-is-slow/">Why Swift's Type Checker Is So Slow</a></p>
<p>Use hot reloading for graphics programming in "<a href="http://localhost:1313/posts/code-animated-rick/">Learn Shader Programming with Rick and Morty</a>"</p>
<hr />
<ol>
<li>
<p><a href="https://github.com/johnno1962/HotSwiftUI">HotSwiftUI</a> uses a combination of <a href="https://www.emergetools.com/blog/posts/DyldInterposing">dyld interposition</a>, <a href="https://www.nutrient.io/blog/swizzling-in-swift/">method swizzling</a>, and memory scanning/patching to do hot reloading in a generic way. It may not require splitting your project into a library and host, but the setup process is involved. It requires installing a 3rd party app, adding a dependency, modifying all SwiftUI code, and modifying build settings. ↩︎</p>
</li>
<li>
<p>For information about hot reloading on windows, see handmade hero days <a href="https://guide.handmadehero.org/code/">21 through 23</a>. ↩︎</p>
</li>
<li>
<p>Name mangling isn't unique to Swift. C++ is one example of another language that does it. ↩︎</p>
</li>
<li>
<p>You can see that Swift function pointers are 16 bytes with this bit of Swift: <code>typealias FnPtr = () -&gt; Void; print("size \( MemoryLayout&lt;FnPtr&gt;.size)")</code> ↩︎</p>
</li>
<li>
<p>Returning a <code>NSHostingView</code> also sidesteps the issue of having the <code>some View</code> type at the interface between two compilation units. <code>some View</code> is just a convenience feature that is like saying "There is a specific type here that conforms to the View protocol, but I don't feel like writing the full type out, figure it out at compile time and use it in all the places that refer to this function.". The host app couldn't use a function pointer that returns <code>some View</code> because it doesn't have access at compile time to the dynamic library's implementation in order to figure out the concrete type. ↩︎</p>
</li>
</ol>
<p>❖</p>
<p>Get notified about my next article:</p>
<p>Join Newsletter</p>
<p><a href="https://danielchasehooper.com/">More articles by Daniel</a></p>







  
    
  
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="最后更新">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date" title="2026年3月1日 16:06:36 UTC">2026-03-01</span>
  </span>

    
    
    
    
  </aside>


  



  <form class="md-feedback" name="feedback" hidden>
    <fieldset>
      <legend class="md-feedback__title">
        这篇文章有帮助吗？
      </legend>
      <div class="md-feedback__inner">
        <div class="md-feedback__list">
          
            <button class="md-feedback__icon md-icon" type="submit" title="有帮助" data-md-value="1">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 9v12H1V9zm4 12a2 2 0 0 1-2-2V9c0-.55.22-1.05.59-1.41L14.17 1l1.06 1.06c.27.27.44.64.44 1.05l-.03.32L14.69 8H21a2 2 0 0 1 2 2v2c0 .26-.05.5-.14.73l-3.02 7.05C19.54 20.5 18.83 21 18 21zm0-2h9.03L21 12v-2h-8.79l1.13-5.32L9 9.03z"/></svg>
            </button>
          
            <button class="md-feedback__icon md-icon" type="submit" title="没帮助" data-md-value="0">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 15V3h4v12zM15 3a2 2 0 0 1 2 2v10c0 .55-.22 1.05-.59 1.41L9.83 23l-1.06-1.06c-.27-.27-.44-.64-.44-1.06l.03-.31.95-4.57H3a2 2 0 0 1-2-2v-2c0-.26.05-.5.14-.73l3.02-7.05C4.46 3.5 5.17 3 6 3zm0 2H5.97L3 12v2h8.78l-1.13 5.32L15 14.97z"/></svg>
            </button>
          
        </div>
        <div class="md-feedback__note">
          
            <div data-md-value="1" hidden>
              
              
                
              
              
              
                
                
              
              感谢反馈！
            </div>
          
            <div data-md-value="0" hidden>
              
              
                
              
              
              
                
                
              
              感谢反馈！我们会改进。
            </div>
          
        </div>
      </div>
    </fieldset>
  </form>


                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2026 - OpenClaw
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
    <a href="https://github.com/mrgolftech" target="_blank" rel="noopener" title="GitHub" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.sections", "navigation.expand", "navigation.top", "search.suggest", "search.highlight", "search.share", "content.code.copy", "content.action.edit"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>