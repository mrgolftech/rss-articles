
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="技术博客文章聚合 - Hacker News 2025年最受欢迎的博客">
      
      
        <meta name="author" content="OpenClaw">
      
      
        <link rel="canonical" href="https://mrgolftech.github.io/rss-articles/herman.bearblog.dev/Aggressive%20bots%20ruined%20my%20weekend_20260205/">
      
      
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Aggressive bots ruined my weekend\n\n来源: https://herman.bearblog.dev\n链接: https://herman.bearblog.dev/agressive-bots/\n日期: 2025-10-29T09:43:00+00:00\n\n---\n\nOn the 25th of October Bear had its first major outage. Specifically, the reverse proxy which handles custom domains went down, causing custom domains to time out.\nUnfortunately my monitoring tool failed to notify me, and it being a Saturday, I didn't notice the outage for longer than is reasonable. I apologise to everyone who was affected by it.\nFirst, I want to dissect the root cause, exactly what went wrong, and then provide the steps I've taken to mitigate this in the future.\nI wrote about\nThe Great Scrape\nat the beginning of this year. The vast majority of web traffic is now bots, and it is becoming increasingly more hostile to have publicly available resources on the internet.\nThere are 3 major kinds of bots currently flooding the internet: AI scrapers, malicious scrapers, and unchecked automations/scrapers.\nThe first has been discussed at length. Data is\nworth something\nnow that it is used as fodder to train LLMs, and there is a financial incentive to scrape, so scrape they will. They've depleted all human-created writing on the internet, and are becoming increasingly ravenous for new wells of content. I've seen this compared to the search for\nlow-background-radiation steel\n, which is, itself, very interesting.\nThese scrapers, however, are the easiest to deal with since they tend to identify themselves as ChatGPT, Anthropic, XAI, et cetera. They also tend to specify whether they are from user-initiated searches (think all the sites that get scraped when you make a request with ChatGPT), or data mining (data used to train models). On Bear Blog I allow the first kinds, but block the second, since bloggers want discoverability, but usually don't want their writing used to train the next big model.\nThe next two kinds of scraper are more insidious. The malicious scrapers are bots that systematically scrape and re-scrape websites, sometimes every few minutes, looking for vulnerabilities such as misconfigured Wordpress instances, or\n.env\nand\n.aws\nfiles, among other things, accidentally left lying around.\nIt's more dangerous than ever to self-host, since simple mistakes in configurations will likely be found and exploited. In the last 24 hours I've blocked close to 2 million malicious requests across several hundred blogs.\nWhat's wild is that these scrapers rotate through thousands of IP addresses during their scrapes, which leads me to suspect that the requests are being tunnelled through apps on mobile devices, since the ASNs tend to be cellular networks. I'm still speculating here, but I think app developers have found another way to monetise their apps by offering them for free, and selling tunnel access to scrapers.\nNow, on to the unchecked automations. Vibe coding has made web-scraping easier than ever. Any script-kiddie can easily build a functional scraper in a single prompt and have it run all day from their home computer, and if the dramatic rise in scraping is anything to go by, many do. Tens of thousands of new scrapers have cropped up over the past few months, accidentally DDoSing website after website in their wake. The average consumer-grade computer is significantly more powerful than a VPS, so these machines can easily cause a lot of damage without noticing.\nI've managed to keep all these scrapers at bay using a combination of web application firewall (WAF) rules and rate limiting provided by Cloudflare, as well as some custom code which finds and quarantines bad bots based on their activity.\nI've played around with serving\nZip Bombs\n, which was quite satisfying, but I stopped for fear of accidentally bombing a legitimate user. Another thing I've played around with is Proof of Work validation, making it expensive for bots to scrape, as well as serving endless junk data to keep the bots busy. Both of these are\ninteresting\n, but ultimately are just as effective as simply blocking those requests, without the increased complexity.\nWith that context, here's exactly went wrong on Saturday.\nPreviously, the bottleneck for page requests was the web-server itself, since it does the heavy lifting. It automatically scales horizontally by up to a factor of 10, if necessary, but bot requests can scale by significantly more than that, so having strong bot detection and mitigation, as well as serving highly-requested endpoints via a CDN is necessary. This is a solved problem, as outlined in my Great Scrape post, but worth restating.\nOn Saturday morning a few hundred blogs were DDoSed, with tens of thousands of pages requested per minute (from the logs it's hard to say whether they were malicious, or just very aggressive scrapers). The above-mentioned mitigations worked as expected, however the reverse-proxy—which sits up-stream of most of these mitigations—became saturated with requests and decided it needed to take a little nap.\nThe big blue spike is what toppled the server. It's so big it makes the rest of the graph look flat.\nThis server had been running with zero downtime for 5 years up until this point.\nUnfortunately my uptime monitor failed to alert me via the push notifications I'd set up, even though it's the only app I have that not only has notifications enabled (see my\npost on notifications\n), but even has critical alerts enabled, so it'll wake me up in the middle of the night if necessary. I still have no idea why this alert didn't come through, and I have ruled out misconfiguration through various tests.\nThis brings me to how I will prevent this from happening in the future.\nRedundancy in monitoring. I now have a second monitoring service running alongside my uptime monitor which will give me a phone call, email, and text message in the event of any downtime.\nMore aggressive rate-limiting and bot mitigation on the reverse proxy. This already reduces the server load by about half.\nI've bumped up the size of the reverse proxy, which can now handle about 5 times the load. This is overkill, but compute is cheap, and certainly worth the stress-mitigation. I'm already bald. I don't need to go balder.\nAuto-restart the reverse-proxy if bandwidth usage drops to zero for more than 2 minutes.\nAdded a status page, available at\nhttps://status.bearblog.dev\nfor better visibility and transparency. Hopefully those bars stay solid green forever.\nThis should be enough to keep everything healthy. If you have any suggestions, or need help with your own bot issues,\nsend me an email\n.\nThe public internet is mostly bots, many of whom are bad netizens. It's the most hostile it's ever been, and it is because of this that I feel it's more important than ever to take good care of the spaces that make the internet worth visiting.\nThe arms race continues... - RSS Articles</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#aggressive-bots-ruined-my-weekendnn-httpshermanbearblogdevn-httpshermanbearblogdevagressive-botsn-2025-10-29t0943000000nn-nnon-the-25th-of-october-bear-had-its-first-major-outage-specifically-the-reverse-proxy-which-handles-custom-domains-went-down-causing-custom-domains-to-time-outnunfortunately-my-monitoring-tool-failed-to-notify-me-and-it-being-a-saturday-i-didnt-notice-the-outage-for-longer-than-is-reasonable-i-apologise-to-everyone-who-was-affected-by-itnfirst-i-want-to-dissect-the-root-cause-exactly-what-went-wrong-and-then-provide-the-steps-ive-taken-to-mitigate-this-in-the-futureni-wrote-aboutnthe-great-scrapenat-the-beginning-of-this-year-the-vast-majority-of-web-traffic-is-now-bots-and-it-is-becoming-increasingly-more-hostile-to-have-publicly-available-resources-on-the-internetnthere-are-3-major-kinds-of-bots-currently-flooding-the-internet-ai-scrapers-malicious-scrapers-and-unchecked-automationsscrapersnthe-first-has-been-discussed-at-length-data-isnworth-somethingnnow-that-it-is-used-as-fodder-to-train-llms-and-there-is-a-financial-incentive-to-scrape-so-scrape-they-will-theyve-depleted-all-human-created-writing-on-the-internet-and-are-becoming-increasingly-ravenous-for-new-wells-of-content-ive-seen-this-compared-to-the-search-fornlow-background-radiation-steeln-which-is-itself-very-interestingnthese-scrapers-however-are-the-easiest-to-deal-with-since-they-tend-to-identify-themselves-as-chatgpt-anthropic-xai-et-cetera-they-also-tend-to-specify-whether-they-are-from-user-initiated-searches-think-all-the-sites-that-get-scraped-when-you-make-a-request-with-chatgpt-or-data-mining-data-used-to-train-models-on-bear-blog-i-allow-the-first-kinds-but-block-the-second-since-bloggers-want-discoverability-but-usually-dont-want-their-writing-used-to-train-the-next-big-modelnthe-next-two-kinds-of-scraper-are-more-insidious-the-malicious-scrapers-are-bots-that-systematically-scrape-and-re-scrape-websites-sometimes-every-few-minutes-looking-for-vulnerabilities-such-as-misconfigured-wordpress-instances-ornenvnandnawsnfiles-among-other-things-accidentally-left-lying-aroundnits-more-dangerous-than-ever-to-self-host-since-simple-mistakes-in-configurations-will-likely-be-found-and-exploited-in-the-last-24-hours-ive-blocked-close-to-2-million-malicious-requests-across-several-hundred-blogsnwhats-wild-is-that-these-scrapers-rotate-through-thousands-of-ip-addresses-during-their-scrapes-which-leads-me-to-suspect-that-the-requests-are-being-tunnelled-through-apps-on-mobile-devices-since-the-asns-tend-to-be-cellular-networks-im-still-speculating-here-but-i-think-app-developers-have-found-another-way-to-monetise-their-apps-by-offering-them-for-free-and-selling-tunnel-access-to-scrapersnnow-on-to-the-unchecked-automations-vibe-coding-has-made-web-scraping-easier-than-ever-any-script-kiddie-can-easily-build-a-functional-scraper-in-a-single-prompt-and-have-it-run-all-day-from-their-home-computer-and-if-the-dramatic-rise-in-scraping-is-anything-to-go-by-many-do-tens-of-thousands-of-new-scrapers-have-cropped-up-over-the-past-few-months-accidentally-ddosing-website-after-website-in-their-wake-the-average-consumer-grade-computer-is-significantly-more-powerful-than-a-vps-so-these-machines-can-easily-cause-a-lot-of-damage-without-noticingnive-managed-to-keep-all-these-scrapers-at-bay-using-a-combination-of-web-application-firewall-waf-rules-and-rate-limiting-provided-by-cloudflare-as-well-as-some-custom-code-which-finds-and-quarantines-bad-bots-based-on-their-activitynive-played-around-with-servingnzip-bombsn-which-was-quite-satisfying-but-i-stopped-for-fear-of-accidentally-bombing-a-legitimate-user-another-thing-ive-played-around-with-is-proof-of-work-validation-making-it-expensive-for-bots-to-scrape-as-well-as-serving-endless-junk-data-to-keep-the-bots-busy-both-of-these-areninterestingn-but-ultimately-are-just-as-effective-as-simply-blocking-those-requests-without-the-increased-complexitynwith-that-context-heres-exactly-went-wrong-on-saturdaynpreviously-the-bottleneck-for-page-requests-was-the-web-server-itself-since-it-does-the-heavy-lifting-it-automatically-scales-horizontally-by-up-to-a-factor-of-10-if-necessary-but-bot-requests-can-scale-by-significantly-more-than-that-so-having-strong-bot-detection-and-mitigation-as-well-as-serving-highly-requested-endpoints-via-a-cdn-is-necessary-this-is-a-solved-problem-as-outlined-in-my-great-scrape-post-but-worth-restatingnon-saturday-morning-a-few-hundred-blogs-were-ddosed-with-tens-of-thousands-of-pages-requested-per-minute-from-the-logs-its-hard-to-say-whether-they-were-malicious-or-just-very-aggressive-scrapers-the-above-mentioned-mitigations-worked-as-expected-however-the-reverse-proxywhich-sits-up-stream-of-most-of-these-mitigationsbecame-saturated-with-requests-and-decided-it-needed-to-take-a-little-napnthe-big-blue-spike-is-what-toppled-the-server-its-so-big-it-makes-the-rest-of-the-graph-look-flatnthis-server-had-been-running-with-zero-downtime-for-5-years-up-until-this-pointnunfortunately-my-uptime-monitor-failed-to-alert-me-via-the-push-notifications-id-set-up-even-though-its-the-only-app-i-have-that-not-only-has-notifications-enabled-see-mynpost-on-notificationsn-but-even-has-critical-alerts-enabled-so-itll-wake-me-up-in-the-middle-of-the-night-if-necessary-i-still-have-no-idea-why-this-alert-didnt-come-through-and-i-have-ruled-out-misconfiguration-through-various-testsnthis-brings-me-to-how-i-will-prevent-this-from-happening-in-the-futurenredundancy-in-monitoring-i-now-have-a-second-monitoring-service-running-alongside-my-uptime-monitor-which-will-give-me-a-phone-call-email-and-text-message-in-the-event-of-any-downtimenmore-aggressive-rate-limiting-and-bot-mitigation-on-the-reverse-proxy-this-already-reduces-the-server-load-by-about-halfnive-bumped-up-the-size-of-the-reverse-proxy-which-can-now-handle-about-5-times-the-load-this-is-overkill-but-compute-is-cheap-and-certainly-worth-the-stress-mitigation-im-already-bald-i-dont-need-to-go-baldernauto-restart-the-reverse-proxy-if-bandwidth-usage-drops-to-zero-for-more-than-2-minutesnadded-a-status-page-available-atnhttpsstatusbearblogdevnfor-better-visibility-and-transparency-hopefully-those-bars-stay-solid-green-forevernthis-should-be-enough-to-keep-everything-healthy-if-you-have-any-suggestions-or-need-help-with-your-own-bot-issuesnsend-me-an-emailnnthe-public-internet-is-mostly-bots-many-of-whom-are-bad-netizens-its-the-most-hostile-its-ever-been-and-it-is-because-of-this-that-i-feel-its-more-important-than-ever-to-take-good-care-of-the-spaces-that-make-the-internet-worth-visitingnthe-arms-race-continues" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../.." title="RSS Articles" class="md-header__button md-logo" aria-label="RSS Articles" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            RSS Articles
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Aggressive bots ruined my weekend\n\n来源: https://herman.bearblog.dev\n链接: https://herman.bearblog.dev/agressive-bots/\n日期: 2025-10-29T09:43:00+00:00\n\n---\n\nOn the 25th of October Bear had its first major outage. Specifically, the reverse proxy which handles custom domains went down, causing custom domains to time out.\nUnfortunately my monitoring tool failed to notify me, and it being a Saturday, I didn't notice the outage for longer than is reasonable. I apologise to everyone who was affected by it.\nFirst, I want to dissect the root cause, exactly what went wrong, and then provide the steps I've taken to mitigate this in the future.\nI wrote about\nThe Great Scrape\nat the beginning of this year. The vast majority of web traffic is now bots, and it is becoming increasingly more hostile to have publicly available resources on the internet.\nThere are 3 major kinds of bots currently flooding the internet: AI scrapers, malicious scrapers, and unchecked automations/scrapers.\nThe first has been discussed at length. Data is\nworth something\nnow that it is used as fodder to train LLMs, and there is a financial incentive to scrape, so scrape they will. They've depleted all human-created writing on the internet, and are becoming increasingly ravenous for new wells of content. I've seen this compared to the search for\nlow-background-radiation steel\n, which is, itself, very interesting.\nThese scrapers, however, are the easiest to deal with since they tend to identify themselves as ChatGPT, Anthropic, XAI, et cetera. They also tend to specify whether they are from user-initiated searches (think all the sites that get scraped when you make a request with ChatGPT), or data mining (data used to train models). On Bear Blog I allow the first kinds, but block the second, since bloggers want discoverability, but usually don't want their writing used to train the next big model.\nThe next two kinds of scraper are more insidious. The malicious scrapers are bots that systematically scrape and re-scrape websites, sometimes every few minutes, looking for vulnerabilities such as misconfigured Wordpress instances, or\n.env\nand\n.aws\nfiles, among other things, accidentally left lying around.\nIt's more dangerous than ever to self-host, since simple mistakes in configurations will likely be found and exploited. In the last 24 hours I've blocked close to 2 million malicious requests across several hundred blogs.\nWhat's wild is that these scrapers rotate through thousands of IP addresses during their scrapes, which leads me to suspect that the requests are being tunnelled through apps on mobile devices, since the ASNs tend to be cellular networks. I'm still speculating here, but I think app developers have found another way to monetise their apps by offering them for free, and selling tunnel access to scrapers.\nNow, on to the unchecked automations. Vibe coding has made web-scraping easier than ever. Any script-kiddie can easily build a functional scraper in a single prompt and have it run all day from their home computer, and if the dramatic rise in scraping is anything to go by, many do. Tens of thousands of new scrapers have cropped up over the past few months, accidentally DDoSing website after website in their wake. The average consumer-grade computer is significantly more powerful than a VPS, so these machines can easily cause a lot of damage without noticing.\nI've managed to keep all these scrapers at bay using a combination of web application firewall (WAF) rules and rate limiting provided by Cloudflare, as well as some custom code which finds and quarantines bad bots based on their activity.\nI've played around with serving\nZip Bombs\n, which was quite satisfying, but I stopped for fear of accidentally bombing a legitimate user. Another thing I've played around with is Proof of Work validation, making it expensive for bots to scrape, as well as serving endless junk data to keep the bots busy. Both of these are\ninteresting\n, but ultimately are just as effective as simply blocking those requests, without the increased complexity.\nWith that context, here's exactly went wrong on Saturday.\nPreviously, the bottleneck for page requests was the web-server itself, since it does the heavy lifting. It automatically scales horizontally by up to a factor of 10, if necessary, but bot requests can scale by significantly more than that, so having strong bot detection and mitigation, as well as serving highly-requested endpoints via a CDN is necessary. This is a solved problem, as outlined in my Great Scrape post, but worth restating.\nOn Saturday morning a few hundred blogs were DDoSed, with tens of thousands of pages requested per minute (from the logs it's hard to say whether they were malicious, or just very aggressive scrapers). The above-mentioned mitigations worked as expected, however the reverse-proxy—which sits up-stream of most of these mitigations—became saturated with requests and decided it needed to take a little nap.\nThe big blue spike is what toppled the server. It's so big it makes the rest of the graph look flat.\nThis server had been running with zero downtime for 5 years up until this point.\nUnfortunately my uptime monitor failed to alert me via the push notifications I'd set up, even though it's the only app I have that not only has notifications enabled (see my\npost on notifications\n), but even has critical alerts enabled, so it'll wake me up in the middle of the night if necessary. I still have no idea why this alert didn't come through, and I have ruled out misconfiguration through various tests.\nThis brings me to how I will prevent this from happening in the future.\nRedundancy in monitoring. I now have a second monitoring service running alongside my uptime monitor which will give me a phone call, email, and text message in the event of any downtime.\nMore aggressive rate-limiting and bot mitigation on the reverse proxy. This already reduces the server load by about half.\nI've bumped up the size of the reverse proxy, which can now handle about 5 times the load. This is overkill, but compute is cheap, and certainly worth the stress-mitigation. I'm already bald. I don't need to go balder.\nAuto-restart the reverse-proxy if bandwidth usage drops to zero for more than 2 minutes.\nAdded a status page, available at\nhttps://status.bearblog.dev\nfor better visibility and transparency. Hopefully those bars stay solid green forever.\nThis should be enough to keep everything healthy. If you have any suggestions, or need help with your own bot issues,\nsend me an email\n.\nThe public internet is mostly bots, many of whom are bad netizens. It's the most hostile it's ever been, and it is because of this that I feel it's more important than ever to take good care of the spaces that make the internet worth visiting.\nThe arms race continues...
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="切换到深色模式"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="切换到深色模式" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="切换到浅色模式"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="切换到浅色模式" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="分享" aria-label="分享" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/mrgolftech/rss-articles" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    rss-articles
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  首页

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../blogs/" class="md-tabs__link">
        
  
  
    
  
  所有博客

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="RSS Articles" class="md-nav__button md-logo" aria-label="RSS Articles" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    RSS Articles
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/mrgolftech/rss-articles" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    rss-articles
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    首页
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blogs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    所有博客
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/mrgolftech/rss-articles/edit/master/docs/herman.bearblog.dev/Aggressive bots ruined my weekend_20260205.md" title="编辑此页" class="md-content__button md-icon" rel="edit">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75z"/></svg>
    </a>
  
  


<h1 id="aggressive-bots-ruined-my-weekendnn-httpshermanbearblogdevn-httpshermanbearblogdevagressive-botsn-2025-10-29t0943000000nn-nnon-the-25th-of-october-bear-had-its-first-major-outage-specifically-the-reverse-proxy-which-handles-custom-domains-went-down-causing-custom-domains-to-time-outnunfortunately-my-monitoring-tool-failed-to-notify-me-and-it-being-a-saturday-i-didnt-notice-the-outage-for-longer-than-is-reasonable-i-apologise-to-everyone-who-was-affected-by-itnfirst-i-want-to-dissect-the-root-cause-exactly-what-went-wrong-and-then-provide-the-steps-ive-taken-to-mitigate-this-in-the-futureni-wrote-aboutnthe-great-scrapenat-the-beginning-of-this-year-the-vast-majority-of-web-traffic-is-now-bots-and-it-is-becoming-increasingly-more-hostile-to-have-publicly-available-resources-on-the-internetnthere-are-3-major-kinds-of-bots-currently-flooding-the-internet-ai-scrapers-malicious-scrapers-and-unchecked-automationsscrapersnthe-first-has-been-discussed-at-length-data-isnworth-somethingnnow-that-it-is-used-as-fodder-to-train-llms-and-there-is-a-financial-incentive-to-scrape-so-scrape-they-will-theyve-depleted-all-human-created-writing-on-the-internet-and-are-becoming-increasingly-ravenous-for-new-wells-of-content-ive-seen-this-compared-to-the-search-fornlow-background-radiation-steeln-which-is-itself-very-interestingnthese-scrapers-however-are-the-easiest-to-deal-with-since-they-tend-to-identify-themselves-as-chatgpt-anthropic-xai-et-cetera-they-also-tend-to-specify-whether-they-are-from-user-initiated-searches-think-all-the-sites-that-get-scraped-when-you-make-a-request-with-chatgpt-or-data-mining-data-used-to-train-models-on-bear-blog-i-allow-the-first-kinds-but-block-the-second-since-bloggers-want-discoverability-but-usually-dont-want-their-writing-used-to-train-the-next-big-modelnthe-next-two-kinds-of-scraper-are-more-insidious-the-malicious-scrapers-are-bots-that-systematically-scrape-and-re-scrape-websites-sometimes-every-few-minutes-looking-for-vulnerabilities-such-as-misconfigured-wordpress-instances-ornenvnandnawsnfiles-among-other-things-accidentally-left-lying-aroundnits-more-dangerous-than-ever-to-self-host-since-simple-mistakes-in-configurations-will-likely-be-found-and-exploited-in-the-last-24-hours-ive-blocked-close-to-2-million-malicious-requests-across-several-hundred-blogsnwhats-wild-is-that-these-scrapers-rotate-through-thousands-of-ip-addresses-during-their-scrapes-which-leads-me-to-suspect-that-the-requests-are-being-tunnelled-through-apps-on-mobile-devices-since-the-asns-tend-to-be-cellular-networks-im-still-speculating-here-but-i-think-app-developers-have-found-another-way-to-monetise-their-apps-by-offering-them-for-free-and-selling-tunnel-access-to-scrapersnnow-on-to-the-unchecked-automations-vibe-coding-has-made-web-scraping-easier-than-ever-any-script-kiddie-can-easily-build-a-functional-scraper-in-a-single-prompt-and-have-it-run-all-day-from-their-home-computer-and-if-the-dramatic-rise-in-scraping-is-anything-to-go-by-many-do-tens-of-thousands-of-new-scrapers-have-cropped-up-over-the-past-few-months-accidentally-ddosing-website-after-website-in-their-wake-the-average-consumer-grade-computer-is-significantly-more-powerful-than-a-vps-so-these-machines-can-easily-cause-a-lot-of-damage-without-noticingnive-managed-to-keep-all-these-scrapers-at-bay-using-a-combination-of-web-application-firewall-waf-rules-and-rate-limiting-provided-by-cloudflare-as-well-as-some-custom-code-which-finds-and-quarantines-bad-bots-based-on-their-activitynive-played-around-with-servingnzip-bombsn-which-was-quite-satisfying-but-i-stopped-for-fear-of-accidentally-bombing-a-legitimate-user-another-thing-ive-played-around-with-is-proof-of-work-validation-making-it-expensive-for-bots-to-scrape-as-well-as-serving-endless-junk-data-to-keep-the-bots-busy-both-of-these-areninterestingn-but-ultimately-are-just-as-effective-as-simply-blocking-those-requests-without-the-increased-complexitynwith-that-context-heres-exactly-went-wrong-on-saturdaynpreviously-the-bottleneck-for-page-requests-was-the-web-server-itself-since-it-does-the-heavy-lifting-it-automatically-scales-horizontally-by-up-to-a-factor-of-10-if-necessary-but-bot-requests-can-scale-by-significantly-more-than-that-so-having-strong-bot-detection-and-mitigation-as-well-as-serving-highly-requested-endpoints-via-a-cdn-is-necessary-this-is-a-solved-problem-as-outlined-in-my-great-scrape-post-but-worth-restatingnon-saturday-morning-a-few-hundred-blogs-were-ddosed-with-tens-of-thousands-of-pages-requested-per-minute-from-the-logs-its-hard-to-say-whether-they-were-malicious-or-just-very-aggressive-scrapers-the-above-mentioned-mitigations-worked-as-expected-however-the-reverse-proxywhich-sits-up-stream-of-most-of-these-mitigationsbecame-saturated-with-requests-and-decided-it-needed-to-take-a-little-napnthe-big-blue-spike-is-what-toppled-the-server-its-so-big-it-makes-the-rest-of-the-graph-look-flatnthis-server-had-been-running-with-zero-downtime-for-5-years-up-until-this-pointnunfortunately-my-uptime-monitor-failed-to-alert-me-via-the-push-notifications-id-set-up-even-though-its-the-only-app-i-have-that-not-only-has-notifications-enabled-see-mynpost-on-notificationsn-but-even-has-critical-alerts-enabled-so-itll-wake-me-up-in-the-middle-of-the-night-if-necessary-i-still-have-no-idea-why-this-alert-didnt-come-through-and-i-have-ruled-out-misconfiguration-through-various-testsnthis-brings-me-to-how-i-will-prevent-this-from-happening-in-the-futurenredundancy-in-monitoring-i-now-have-a-second-monitoring-service-running-alongside-my-uptime-monitor-which-will-give-me-a-phone-call-email-and-text-message-in-the-event-of-any-downtimenmore-aggressive-rate-limiting-and-bot-mitigation-on-the-reverse-proxy-this-already-reduces-the-server-load-by-about-halfnive-bumped-up-the-size-of-the-reverse-proxy-which-can-now-handle-about-5-times-the-load-this-is-overkill-but-compute-is-cheap-and-certainly-worth-the-stress-mitigation-im-already-bald-i-dont-need-to-go-baldernauto-restart-the-reverse-proxy-if-bandwidth-usage-drops-to-zero-for-more-than-2-minutesnadded-a-status-page-available-atnhttpsstatusbearblogdevnfor-better-visibility-and-transparency-hopefully-those-bars-stay-solid-green-forevernthis-should-be-enough-to-keep-everything-healthy-if-you-have-any-suggestions-or-need-help-with-your-own-bot-issuesnsend-me-an-emailnnthe-public-internet-is-mostly-bots-many-of-whom-are-bad-netizens-its-the-most-hostile-its-ever-been-and-it-is-because-of-this-that-i-feel-its-more-important-than-ever-to-take-good-care-of-the-spaces-that-make-the-internet-worth-visitingnthe-arms-race-continues">Aggressive bots ruined my weekend\n\n<strong>来源:</strong> https://herman.bearblog.dev\n<strong>链接:</strong> https://herman.bearblog.dev/agressive-bots/\n<strong>日期:</strong> 2025-10-29T09:43:00+00:00\n\n---\n\nOn the 25th of October Bear had its first major outage. Specifically, the reverse proxy which handles custom domains went down, causing custom domains to time out.\nUnfortunately my monitoring tool failed to notify me, and it being a Saturday, I didn't notice the outage for longer than is reasonable. I apologise to everyone who was affected by it.\nFirst, I want to dissect the root cause, exactly what went wrong, and then provide the steps I've taken to mitigate this in the future.\nI wrote about\nThe Great Scrape\nat the beginning of this year. The vast majority of web traffic is now bots, and it is becoming increasingly more hostile to have publicly available resources on the internet.\nThere are 3 major kinds of bots currently flooding the internet: AI scrapers, malicious scrapers, and unchecked automations/scrapers.\nThe first has been discussed at length. Data is\nworth something\nnow that it is used as fodder to train LLMs, and there is a financial incentive to scrape, so scrape they will. They've depleted all human-created writing on the internet, and are becoming increasingly ravenous for new wells of content. I've seen this compared to the search for\nlow-background-radiation steel\n, which is, itself, very interesting.\nThese scrapers, however, are the easiest to deal with since they tend to identify themselves as ChatGPT, Anthropic, XAI, et cetera. They also tend to specify whether they are from user-initiated searches (think all the sites that get scraped when you make a request with ChatGPT), or data mining (data used to train models). On Bear Blog I allow the first kinds, but block the second, since bloggers want discoverability, but usually don't want their writing used to train the next big model.\nThe next two kinds of scraper are more insidious. The malicious scrapers are bots that systematically scrape and re-scrape websites, sometimes every few minutes, looking for vulnerabilities such as misconfigured Wordpress instances, or\n.env\nand\n.aws\nfiles, among other things, accidentally left lying around.\nIt's more dangerous than ever to self-host, since simple mistakes in configurations will likely be found and exploited. In the last 24 hours I've blocked close to 2 million malicious requests across several hundred blogs.\nWhat's wild is that these scrapers rotate through thousands of IP addresses during their scrapes, which leads me to suspect that the requests are being tunnelled through apps on mobile devices, since the ASNs tend to be cellular networks. I'm still speculating here, but I think app developers have found another way to monetise their apps by offering them for free, and selling tunnel access to scrapers.\nNow, on to the unchecked automations. Vibe coding has made web-scraping easier than ever. Any script-kiddie can easily build a functional scraper in a single prompt and have it run all day from their home computer, and if the dramatic rise in scraping is anything to go by, many do. Tens of thousands of new scrapers have cropped up over the past few months, accidentally DDoSing website after website in their wake. The average consumer-grade computer is significantly more powerful than a VPS, so these machines can easily cause a lot of damage without noticing.\nI've managed to keep all these scrapers at bay using a combination of web application firewall (WAF) rules and rate limiting provided by Cloudflare, as well as some custom code which finds and quarantines bad bots based on their activity.\nI've played around with serving\nZip Bombs\n, which was quite satisfying, but I stopped for fear of accidentally bombing a legitimate user. Another thing I've played around with is Proof of Work validation, making it expensive for bots to scrape, as well as serving endless junk data to keep the bots busy. Both of these are\ninteresting\n, but ultimately are just as effective as simply blocking those requests, without the increased complexity.\nWith that context, here's exactly went wrong on Saturday.\nPreviously, the bottleneck for page requests was the web-server itself, since it does the heavy lifting. It automatically scales horizontally by up to a factor of 10, if necessary, but bot requests can scale by significantly more than that, so having strong bot detection and mitigation, as well as serving highly-requested endpoints via a CDN is necessary. This is a solved problem, as outlined in my Great Scrape post, but worth restating.\nOn Saturday morning a few hundred blogs were DDoSed, with tens of thousands of pages requested per minute (from the logs it's hard to say whether they were malicious, or just very aggressive scrapers). The above-mentioned mitigations worked as expected, however the reverse-proxy—which sits up-stream of most of these mitigations—became saturated with requests and decided it needed to take a little nap.\nThe big blue spike is what toppled the server. It's so big it makes the rest of the graph look flat.\nThis server had been running with zero downtime for 5 years up until this point.\nUnfortunately my uptime monitor failed to alert me via the push notifications I'd set up, even though it's the only app I have that not only has notifications enabled (see my\npost on notifications\n), but even has critical alerts enabled, so it'll wake me up in the middle of the night if necessary. I still have no idea why this alert didn't come through, and I have ruled out misconfiguration through various tests.\nThis brings me to how I will prevent this from happening in the future.\nRedundancy in monitoring. I now have a second monitoring service running alongside my uptime monitor which will give me a phone call, email, and text message in the event of any downtime.\nMore aggressive rate-limiting and bot mitigation on the reverse proxy. This already reduces the server load by about half.\nI've bumped up the size of the reverse proxy, which can now handle about 5 times the load. This is overkill, but compute is cheap, and certainly worth the stress-mitigation. I'm already bald. I don't need to go balder.\nAuto-restart the reverse-proxy if bandwidth usage drops to zero for more than 2 minutes.\nAdded a status page, available at\nhttps://status.bearblog.dev\nfor better visibility and transparency. Hopefully those bars stay solid green forever.\nThis should be enough to keep everything healthy. If you have any suggestions, or need help with your own bot issues,\nsend me an email\n.\nThe public internet is mostly bots, many of whom are bad netizens. It's the most hostile it's ever been, and it is because of this that I feel it's more important than ever to take good care of the spaces that make the internet worth visiting.\nThe arms race continues...<a class="headerlink" href="#aggressive-bots-ruined-my-weekendnn-httpshermanbearblogdevn-httpshermanbearblogdevagressive-botsn-2025-10-29t0943000000nn-nnon-the-25th-of-october-bear-had-its-first-major-outage-specifically-the-reverse-proxy-which-handles-custom-domains-went-down-causing-custom-domains-to-time-outnunfortunately-my-monitoring-tool-failed-to-notify-me-and-it-being-a-saturday-i-didnt-notice-the-outage-for-longer-than-is-reasonable-i-apologise-to-everyone-who-was-affected-by-itnfirst-i-want-to-dissect-the-root-cause-exactly-what-went-wrong-and-then-provide-the-steps-ive-taken-to-mitigate-this-in-the-futureni-wrote-aboutnthe-great-scrapenat-the-beginning-of-this-year-the-vast-majority-of-web-traffic-is-now-bots-and-it-is-becoming-increasingly-more-hostile-to-have-publicly-available-resources-on-the-internetnthere-are-3-major-kinds-of-bots-currently-flooding-the-internet-ai-scrapers-malicious-scrapers-and-unchecked-automationsscrapersnthe-first-has-been-discussed-at-length-data-isnworth-somethingnnow-that-it-is-used-as-fodder-to-train-llms-and-there-is-a-financial-incentive-to-scrape-so-scrape-they-will-theyve-depleted-all-human-created-writing-on-the-internet-and-are-becoming-increasingly-ravenous-for-new-wells-of-content-ive-seen-this-compared-to-the-search-fornlow-background-radiation-steeln-which-is-itself-very-interestingnthese-scrapers-however-are-the-easiest-to-deal-with-since-they-tend-to-identify-themselves-as-chatgpt-anthropic-xai-et-cetera-they-also-tend-to-specify-whether-they-are-from-user-initiated-searches-think-all-the-sites-that-get-scraped-when-you-make-a-request-with-chatgpt-or-data-mining-data-used-to-train-models-on-bear-blog-i-allow-the-first-kinds-but-block-the-second-since-bloggers-want-discoverability-but-usually-dont-want-their-writing-used-to-train-the-next-big-modelnthe-next-two-kinds-of-scraper-are-more-insidious-the-malicious-scrapers-are-bots-that-systematically-scrape-and-re-scrape-websites-sometimes-every-few-minutes-looking-for-vulnerabilities-such-as-misconfigured-wordpress-instances-ornenvnandnawsnfiles-among-other-things-accidentally-left-lying-aroundnits-more-dangerous-than-ever-to-self-host-since-simple-mistakes-in-configurations-will-likely-be-found-and-exploited-in-the-last-24-hours-ive-blocked-close-to-2-million-malicious-requests-across-several-hundred-blogsnwhats-wild-is-that-these-scrapers-rotate-through-thousands-of-ip-addresses-during-their-scrapes-which-leads-me-to-suspect-that-the-requests-are-being-tunnelled-through-apps-on-mobile-devices-since-the-asns-tend-to-be-cellular-networks-im-still-speculating-here-but-i-think-app-developers-have-found-another-way-to-monetise-their-apps-by-offering-them-for-free-and-selling-tunnel-access-to-scrapersnnow-on-to-the-unchecked-automations-vibe-coding-has-made-web-scraping-easier-than-ever-any-script-kiddie-can-easily-build-a-functional-scraper-in-a-single-prompt-and-have-it-run-all-day-from-their-home-computer-and-if-the-dramatic-rise-in-scraping-is-anything-to-go-by-many-do-tens-of-thousands-of-new-scrapers-have-cropped-up-over-the-past-few-months-accidentally-ddosing-website-after-website-in-their-wake-the-average-consumer-grade-computer-is-significantly-more-powerful-than-a-vps-so-these-machines-can-easily-cause-a-lot-of-damage-without-noticingnive-managed-to-keep-all-these-scrapers-at-bay-using-a-combination-of-web-application-firewall-waf-rules-and-rate-limiting-provided-by-cloudflare-as-well-as-some-custom-code-which-finds-and-quarantines-bad-bots-based-on-their-activitynive-played-around-with-servingnzip-bombsn-which-was-quite-satisfying-but-i-stopped-for-fear-of-accidentally-bombing-a-legitimate-user-another-thing-ive-played-around-with-is-proof-of-work-validation-making-it-expensive-for-bots-to-scrape-as-well-as-serving-endless-junk-data-to-keep-the-bots-busy-both-of-these-areninterestingn-but-ultimately-are-just-as-effective-as-simply-blocking-those-requests-without-the-increased-complexitynwith-that-context-heres-exactly-went-wrong-on-saturdaynpreviously-the-bottleneck-for-page-requests-was-the-web-server-itself-since-it-does-the-heavy-lifting-it-automatically-scales-horizontally-by-up-to-a-factor-of-10-if-necessary-but-bot-requests-can-scale-by-significantly-more-than-that-so-having-strong-bot-detection-and-mitigation-as-well-as-serving-highly-requested-endpoints-via-a-cdn-is-necessary-this-is-a-solved-problem-as-outlined-in-my-great-scrape-post-but-worth-restatingnon-saturday-morning-a-few-hundred-blogs-were-ddosed-with-tens-of-thousands-of-pages-requested-per-minute-from-the-logs-its-hard-to-say-whether-they-were-malicious-or-just-very-aggressive-scrapers-the-above-mentioned-mitigations-worked-as-expected-however-the-reverse-proxywhich-sits-up-stream-of-most-of-these-mitigationsbecame-saturated-with-requests-and-decided-it-needed-to-take-a-little-napnthe-big-blue-spike-is-what-toppled-the-server-its-so-big-it-makes-the-rest-of-the-graph-look-flatnthis-server-had-been-running-with-zero-downtime-for-5-years-up-until-this-pointnunfortunately-my-uptime-monitor-failed-to-alert-me-via-the-push-notifications-id-set-up-even-though-its-the-only-app-i-have-that-not-only-has-notifications-enabled-see-mynpost-on-notificationsn-but-even-has-critical-alerts-enabled-so-itll-wake-me-up-in-the-middle-of-the-night-if-necessary-i-still-have-no-idea-why-this-alert-didnt-come-through-and-i-have-ruled-out-misconfiguration-through-various-testsnthis-brings-me-to-how-i-will-prevent-this-from-happening-in-the-futurenredundancy-in-monitoring-i-now-have-a-second-monitoring-service-running-alongside-my-uptime-monitor-which-will-give-me-a-phone-call-email-and-text-message-in-the-event-of-any-downtimenmore-aggressive-rate-limiting-and-bot-mitigation-on-the-reverse-proxy-this-already-reduces-the-server-load-by-about-halfnive-bumped-up-the-size-of-the-reverse-proxy-which-can-now-handle-about-5-times-the-load-this-is-overkill-but-compute-is-cheap-and-certainly-worth-the-stress-mitigation-im-already-bald-i-dont-need-to-go-baldernauto-restart-the-reverse-proxy-if-bandwidth-usage-drops-to-zero-for-more-than-2-minutesnadded-a-status-page-available-atnhttpsstatusbearblogdevnfor-better-visibility-and-transparency-hopefully-those-bars-stay-solid-green-forevernthis-should-be-enough-to-keep-everything-healthy-if-you-have-any-suggestions-or-need-help-with-your-own-bot-issuesnsend-me-an-emailnnthe-public-internet-is-mostly-bots-many-of-whom-are-bad-netizens-its-the-most-hostile-its-ever-been-and-it-is-because-of-this-that-i-feel-its-more-important-than-ever-to-take-good-care-of-the-spaces-that-make-the-internet-worth-visitingnthe-arms-race-continues" title="Permanent link">&para;</a></h1>







  
    
  
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="最后更新">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date" title="2026年2月5日 07:01:58 UTC">2026-02-05</span>
  </span>

    
    
    
    
  </aside>


  



  <form class="md-feedback" name="feedback" hidden>
    <fieldset>
      <legend class="md-feedback__title">
        这篇文章有帮助吗？
      </legend>
      <div class="md-feedback__inner">
        <div class="md-feedback__list">
          
            <button class="md-feedback__icon md-icon" type="submit" title="有帮助" data-md-value="1">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 9v12H1V9zm4 12a2 2 0 0 1-2-2V9c0-.55.22-1.05.59-1.41L14.17 1l1.06 1.06c.27.27.44.64.44 1.05l-.03.32L14.69 8H21a2 2 0 0 1 2 2v2c0 .26-.05.5-.14.73l-3.02 7.05C19.54 20.5 18.83 21 18 21zm0-2h9.03L21 12v-2h-8.79l1.13-5.32L9 9.03z"/></svg>
            </button>
          
            <button class="md-feedback__icon md-icon" type="submit" title="没帮助" data-md-value="0">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 15V3h4v12zM15 3a2 2 0 0 1 2 2v10c0 .55-.22 1.05-.59 1.41L9.83 23l-1.06-1.06c-.27-.27-.44-.64-.44-1.06l.03-.31.95-4.57H3a2 2 0 0 1-2-2v-2c0-.26.05-.5.14-.73l3.02-7.05C4.46 3.5 5.17 3 6 3zm0 2H5.97L3 12v2h8.78l-1.13 5.32L15 14.97z"/></svg>
            </button>
          
        </div>
        <div class="md-feedback__note">
          
            <div data-md-value="1" hidden>
              
              
                
              
              
              
                
                
              
              感谢反馈！
            </div>
          
            <div data-md-value="0" hidden>
              
              
                
              
              
              
                
                
              
              感谢反馈！我们会改进。
            </div>
          
        </div>
      </div>
    </fieldset>
  </form>


                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2026 - OpenClaw
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
    <a href="https://github.com/mrgolftech" target="_blank" rel="noopener" title="GitHub" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.sections", "navigation.expand", "navigation.top", "search.suggest", "search.highlight", "search.share", "content.code.copy", "content.action.edit"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>