# Pi: The Minimal Agent Within OpenClaw

**来源:** [lucumr.pocoo.org](https://lucumr.pocoo.org)
**发布时间:** 2026-01-31T00:00:00+00:00
**链接:** https://lucumr.pocoo.org/2026/1/31/pi/

---

{'type': 'text/html', 'language': None, 'base': 'https://lucumr.pocoo.org/feed.atom', 'value': '<p>If you haven&#8217;t been living under a rock, you will have noticed this week that a\nproject of my friend Peter <a href="https://en.wikipedia.org/wiki/OpenClaw">went viral on the\ninternet</a>.  It went by many names. The\nmost recent one is <a href="https://openclaw.ai/">OpenClaw</a> but in the news you might\nhave encountered it as ClawdBot or MoltBot depending on when you read about it.\nIt is an agent connected to a communication channel of your choice that <a href="https://lucumr.pocoo.org/2025/7/3/tools/">just\nruns code</a>.</p>\n<p>What you might be less familiar with is that what&#8217;s under the hood of OpenClaw\nis a little coding agent called <a href="https://github.com/badlogic/pi-mono/">Pi</a>. And\nPi happens to be, at this point, the coding agent that I use almost exclusively.\nOver the last few weeks I became more and more of a shill for the little agent.\nAfter I gave a talk on this recently, I realized that I did not actually write\nabout Pi on this blog yet, so I feel like I might want to give some context on\nwhy I&#8217;m obsessed with it, and how it relates to OpenClaw.</p>\n<p>Pi is written by <a href="https://mariozechner.at/">Mario Zechner</a> and unlike Peter, who\naims for &#8220;sci-fi with a touch of madness,&#8221; <sup class="footnote-ref" id="fnref-1"><a href="https://lucumr.pocoo.org/feed.atom#fn-1">1</a></sup> Mario is very grounded.  Despite\nthe differences in approach, both OpenClaw and Pi follow the same idea: LLMs are\nreally good at writing and running code, so embrace this.  In some ways I think\nthat&#8217;s not an accident because Peter got me and Mario hooked on this idea, and\nagents last year.</p>\n<h2>What is Pi?</h2>\n<p>So Pi is a coding agent.  And there are many coding agents.  Really, I think you\ncan pick effectively anyone off the shelf at this point and you will be able to\nexperience what it&#8217;s like to do agentic programming.  In reviews on this blog\nI&#8217;ve positively talked about AMP and one of the reasons I resonated so much with\nAMP is that it really felt like it was a product built by people who got both\naddicted to agentic programming but also had tried a few different things to see\nwhich ones work and not just to build a fancy UI around it.</p>\n<p>Pi is interesting to me because of two main reasons:</p>\n<ul>\n<li>First of all, it has a tiny core. It has the shortest system prompt of any\nagent that I&#8217;m aware of and it only has four tools: Read, Write, Edit, Bash. </li>\n<li>The second thing is that it makes up for its tiny core by providing an\nextension system that also allows extensions to persist state into sessions,\nwhich is incredibly powerful. </li>\n</ul>\n<p>And a little bonus: Pi itself is written like excellent software. It doesn&#8217;t\nflicker, it doesn&#8217;t consume a lot of memory, it doesn&#8217;t randomly break, it is\nvery reliable and it is written by someone who takes great care of what goes\ninto the software.</p>\n<p>Pi also is a collection of little components that you can build your own agent\non top.  That&#8217;s how OpenClaw is built, and that&#8217;s also how I built my own little\nTelegram bot and how Mario built his\n<a href="https://github.com/badlogic/pi-mono/tree/main/packages/mom">mom</a>.  If you want\nto build your own agent, connected to something, Pi when pointed to itself and\nmom, will conjure one up for you.</p>\n<h2>What&#8217;s Not In Pi</h2>\n<p>And in order to understand what&#8217;s in Pi, it&#8217;s even more important to understand\nwhat&#8217;s not in Pi, why it&#8217;s not in Pi and more importantly: why it won&#8217;t be in\nPi.  The most obvious omission is support for MCP.  There is no MCP support in\nit. While you could build an extension for it, you can also do what OpenClaw\ndoes to support MCP which is to use\n<a href="https://github.com/steipete/mcporter">mcporter</a>. mcporter exposes MCP calls via\na CLI interface or TypeScript bindings and maybe your agent can do something\nwith it.  Or not, I don&#8217;t know :)</p>\n<p>And this is not a lazy omission.  This is from the philosophy of how Pi works.\nPi&#8217;s entire idea is that if you want the agent to do something that it doesn&#8217;t\ndo yet, you don&#8217;t go and download an extension or a skill or something like\nthis. You ask the agent to extend itself.  It celebrates the idea of code\nwriting and running code.</p>\n<p>That&#8217;s not to say that you cannot download extensions.  It is very much\nsupported. But instead of necessarily encouraging you to download someone else&#8217;s\nextension, you can also point your agent to an already existing extension, say\nlike, build it like the thing you see over there, but make these changes to it\nthat you like.</p>\n<h2>Agents Built for Agents Building Agents</h2>\n<p>When you look at what Pi and by extension OpenClaw are doing, there is an\nexample of software that is malleable like clay.  And this sets certain\nrequirements for the underlying architecture of it that are actually in many\nways setting certain constraints on the system that really need to go into the\ncore design.</p>\n<p>So for instance, Pi&#8217;s underlying AI SDK is written so that a session can really\ncontain many different messages from many different model providers. It\nrecognizes that the portability of sessions is somewhat limited between model\nproviders and so it doesn&#8217;t lean in too much into any model-provider-specific\nfeature set that cannot be transferred to another.</p>\n<p>The second is that in addition to the model messages it maintains custom\nmessages in the session files which can be used by extensions to store state or\nby the system itself to maintain information that either not at all is sent to\nthe AI or only parts of it.</p>\n<p>Because this system exists and extension state can also be persisted to disk, it\nhas built-in hot reloading so that the agent can write code, reload, test it and\ngo in a loop until your extension actually is functional.  It also ships with\ndocumentation and examples that the agent itself can use to extend itself.  Even\nbetter: sessions in Pi are trees.  You can branch and navigate within a session\nwhich opens up all kinds of interesting opportunities such as enabling workflows\nfor making a side-quest to fix a broken agent tool without wasting context in\nthe main session.  After the tool is fixed, I can rewind the session back to\nearlier and Pi summarizes what has happened on the other branch.</p>\n<p>This all matters because for instance if you consider how MCP works, on most\nmodel providers, tools for MCP, like any tool for the LLM, need to be loaded\ninto the system context or the tool section thereof on session start.  That\nmakes it very hard to impossible to fully reload what tools can do without\ntrashing the complete cache or confusing the AI about how prior invocations work\ndifferently.</p>\n<h2>Tools Outside The Context</h2>\n<p>An extension in Pi can register a tool to be available to the LLM to call and\nevery once in a while I find this useful. For instance, despite my criticism of\nhow Beads is implemented, I do think that giving an agent access to a to-do list\nis a very useful thing. And I do use an agent-specific issue tracker that works\nlocally that I had my agent build itself. And because I wanted the agent to also\nmanage to-dos, in this particular case I decided to give it a tool rather than a\nCLI.  It felt appropriate for the scope of the problem and it is currently the\nonly additional tool that I&#8217;m loading into my context.</p>\n<p>But for the most part all of what I&#8217;m adding to my agent are either skills or\nTUI extensions to make working with the agent more enjoyable for me.  Beyond\nslash commands, Pi extensions can render custom TUI components directly in the\nterminal: spinners, progress bars, interactive file pickers, data tables,\npreview panes.  The TUI is flexible enough that Mario proved you can <a href="https://x.com/badlogicgames/status/2008702661093454039">run Doom\nin it</a>.  Not practical,\nbut if you can run Doom, you can certainly build a useful dashboard or debugging\ninterface.</p>\n<p>I want to highlight some of my extensions to give you an idea of what&#8217;s\npossible.  While you can use them unmodified, the whole idea really is that you\npoint your agent to one and remix it to your heart&#8217;s content.</p>\n<h3><a href="https://github.com/mitsuhiko/agent-stuff/blob/main/pi-extensions/answer.ts"><code>/answer</code></a></h3>\n<p>I <a href="https://lucumr.pocoo.org/2025/12/17/what-is-plan-mode/">don&#8217;t use plan mode</a>.  I encourage the agent\nto ask questions and there&#8217;s a productive back and forth.  But I don&#8217;t like\nstructured question dialogs that happen if you give the agent a question tool.\nI prefer the agent&#8217;s natural prose with explanations and diagrams interspersed.</p>\n<p>The problem: answering questions inline gets messy.  So <code>/answer</code> reads the\nagent&#8217;s last response, extracts all the questions, and reformats them into a\nnice input box.</p>\n<img alt="The /answer extension showing a question dialog" src="https://lucumr.pocoo.org/static/pi-answer.png" style="width: 100%;" />\n<h3><a href="https://github.com/mitsuhiko/agent-stuff/blob/main/pi-extensions/todos.ts"><code>/todos</code></a></h3>\n<p>Even though I criticize <a href="https://github.com/steveyegge/beads">Beads</a> for its\nimplementation, giving an agent a to-do list is genuinely useful.  The <code>/todos</code>\ncommand brings up all items stored in <code>.pi/todos</code> as markdown files.  Both the\nagent and I can manipulate them, and sessions can claim tasks to mark them as in\nprogress.</p>\n\n<h3><a href="https://github.com/mitsuhiko/agent-stuff/blob/main/pi-extensions/review.ts"><code>/review</code></a></h3>\n<p>As more code is written by agents, it makes little sense to throw unfinished\nwork at humans before an agent has reviewed it first.  Because Pi sessions are\ntrees, I can branch into a fresh review context, get findings, then bring fixes\nback to the main session.</p>\n<img alt="The /review extension showing review preset options" src="https://lucumr.pocoo.org/static/pi-review.png" style="width: 100%;" />\n<p>The UI is modeled after Codex which provides easy to review commits, diffs,\nuncommitted changes, or remote PRs.  The prompt pays attention to things I care\nabout so I get the call-outs I want (eg: I ask it to call out newly added\ndependencies.)</p>\n<h3><a href="https://github.com/mitsuhiko/agent-stuff/blob/main/pi-extensions/control.ts"><code>/control</code></a></h3>\n<p>An extension I experiment with but don&#8217;t actively use.  It lets one Pi agent send\nprompts to another.  It is a simple multi-agent system without complex\norchestration which is useful for experimentation.</p>\n<h3><a href="https://github.com/mitsuhiko/agent-stuff/blob/main/pi-extensions/files.ts"><code>/files</code></a></h3>\n<p>Lists all files changed or referenced in the session.  You can reveal them in\nFinder, diff in VS Code, quick-look them, or reference them in your prompt.\n<code>shift+ctrl+r</code> quick-looks the most recently mentioned file which is handy when\nthe agent produces a PDF.</p>\n<p>Others have built extensions too: <a href="https://github.com/nicobailon/pi-subagents">Nico&#8217;s subagent\nextension</a> and\n<a href="https://www.npmjs.com/package/pi-interactive-shell">interactive-shell</a> which\nlets Pi autonomously run interactive CLIs in an observable TUI overlay.</p>\n<h2>Software Building Software</h2>\n<p>These are all just ideas of what you can do with your agent.  The point of it\nmostly is that none of this was written by me, it was created by the agent to my\nspecifications.  I told Pi to make an extension and it did.  There is no MCP, there are\nno community skills, nothing.  Don&#8217;t get me wrong, I use tons of skills.  But\nthey are hand-crafted by my clanker and not downloaded from anywhere.  For\ninstance I fully replaced all my CLIs or MCPs for browser automation with a\n<a href="https://github.com/mitsuhiko/agent-stuff/blob/main/skills/web-browser/SKILL.md">skill that just uses\nCDP</a>.\nNot because the alternatives don&#8217;t work, or are bad, but because this is just\neasy and natural.  The agent maintains its own functionality.</p>\n<p>My agent has <a href="https://github.com/mitsuhiko/agent-stuff/tree/main/skills">quite a few\nskills</a> and crucially\nI throw skills away if I don&#8217;t need them.  I for instance gave it a skill to\nread Pi sessions that other engineers shared, which helps with code review.  Or\nI have a skill to help the agent craft the commit messages and commit behavior I\nwant, and how to update changelogs.  These were originally slash commands, but\nI&#8217;m currently migrating them to skills to see if this works equally well.  I\nalso have a skill that hopefully helps Pi use <code>uv</code> rather than <code>pip</code>, but I also\nadded a custom extension to intercept calls to <code>pip</code> and <code>python</code> to redirect\nthem to <code>uv</code> instead.</p>\n<p>Part of the fascination that working with a minimal agent like Pi gave me is\nthat it makes you live that idea of using software that builds more software.\nThat taken to the extreme is when you remove the UI and output and connect it\nto your chat.  That&#8217;s what OpenClaw does and given its tremendous growth,\nI really feel more and more that this is going to become our future in one\nway or another.</p>\n<div class="footnotes">\n<ol>\n<li id="fn-1">\n<p><a href="https://x.com/steipete/status/2017313990548865292">https://x.com/steipete/status/2017313990548865292</a><a class="footnote" href="https://lucumr.pocoo.org/feed.atom#fnref-1">&#8617;</a></p></li>\n</ol>\n</div>'}

---

*抓取时间: 2026-02-06 06:02:39*
