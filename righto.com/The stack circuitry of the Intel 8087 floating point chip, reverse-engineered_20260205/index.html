
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="技术博客文章聚合 - Hacker News 2025年最受欢迎的博客">
      
      
        <meta name="author" content="OpenClaw">
      
      
        <link rel="canonical" href="https://mrgolftech.github.io/rss-articles/righto.com/The%20stack%20circuitry%20of%20the%20Intel%208087%20floating%20point%20chip%2C%20reverse-engineered_20260205/">
      
      
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.2">
    
    
      
        <title>The stack circuitry of the Intel 8087 floating point chip, reverse-engineered - Hacker News 精选博客</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#the-stack-circuitry-of-the-intel-8087-floating-point-chip-reverse-engineered" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../.." title="Hacker News 精选博客" class="md-header__button md-logo" aria-label="Hacker News 精选博客" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Hacker News 精选博客
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              The stack circuitry of the Intel 8087 floating point chip, reverse-engineered
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="切换到深色模式"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="切换到深色模式" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="切换到浅色模式"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="切换到浅色模式" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="分享" aria-label="分享" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/mrgolftech/rss-articles" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    rss-articles
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  首页

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../blogs/" class="md-tabs__link">
        
  
  
    
  
  所有博客

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Hacker News 精选博客" class="md-nav__button md-logo" aria-label="Hacker News 精选博客" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Hacker News 精选博客
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/mrgolftech/rss-articles" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    rss-articles
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    首页
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../blogs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    所有博客
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/mrgolftech/rss-articles/edit/master/docs/righto.com/The stack circuitry of the Intel 8087 floating point chip, reverse-engineered_20260205.md" title="编辑此页" class="md-content__button md-icon" rel="edit">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75z"/></svg>
    </a>
  
  


<h1 id="the-stack-circuitry-of-the-intel-8087-floating-point-chip-reverse-engineered">The stack circuitry of the Intel 8087 floating point chip, reverse-engineered<a class="headerlink" href="#the-stack-circuitry-of-the-intel-8087-floating-point-chip-reverse-engineered" title="Permanent link">&para;</a></h1>
<p><strong>来源:</strong> https://righto.com
<strong>链接:</strong> http://www.righto.com/2025/12/8087-stack-circuitry.html
<strong>日期:</strong> 2025-12-09T09:54:00.000-08:00</p>
<hr />
<h1 id="ken-shirriffs-blog"><a href="http://www.righto.com/"> Ken Shirriff's blog </a><a class="headerlink" href="#ken-shirriffs-blog" title="Permanent link">&para;</a></h1>
<p>Computer history, restoring vintage computers, IC reverse engineering, and whatever</p>
<h3 id="the-stack-circuitry-of-the-intel-8087-floating-point-chip-reverse-engineered_1">The stack circuitry of the Intel 8087 floating point chip, reverse-engineered<a class="headerlink" href="#the-stack-circuitry-of-the-intel-8087-floating-point-chip-reverse-engineered_1" title="Permanent link">&para;</a></h3>
<p>Early microprocessors were very slow when operating with floating-point numbers. But in 1980, Intel introduced the 8087 floating-point coprocessor, performing floating-point operations up to 100 times faster. This was a huge benefit for IBM PC applications such as AutoCAD, spreadsheets, and flight simulators. The 8087 was so effective that today's computers still use a floating-point system based on the 8087.1</p>
<p>The 8087 was an extremely complex chip for its time, containing somewhere between 40,000 and 75,000 transistors, depending on the source.2 To explore how the 8087 works, I opened up a chip and took numerous photos of the silicon die with a microscope. Around the edges of the die, you can see the hair-thin bond wires that connect the chip to its 40 external pins. The complex patterns on the die are formed by its metal wiring, as well as the polysilicon and silicon underneath. The bottom half of the chip is the "datapath", the circuitry that performs calculations on 80-bit floating point values. At the left of the datapath, a <a href="https://www.righto.com/2020/05/extracting-rom-constants-from-8087-math.html">constant ROM</a> holds important constants such as π. At the right are the eight registers that form the stack, along with the stack control circuitry.</p>
<p><a href="https://static.righto.com/images/8087-stack/8087-die-labeled.jpg"><img alt="Die of the Intel 8087 floating point unit chip, with main functional blocks labeled. The die is 5mm×6mm.  Click for a larger image." src="https://static.righto.com/images/8087-stack/8087-die-labeled-w450.jpg" /></a></p>
<p>Die of the Intel 8087 floating point unit chip, with main functional blocks labeled. The die is 5mm×6mm. Click for a larger image.</p>
<p>The chip's instructions are defined by the large <a href="https://www.righto.com/2018/09/two-bits-per-transistor-high-density.html">microcode ROM</a> in the middle. This ROM is very unusual; it is semi-analog, storing two bits per transistor by using four transistor sizes. To execute a floating-point instruction, the 8087 decodes the instruction and the microcode engine starts executing the appropriate micro-instructions from the microcode ROM. The decode circuitry to the right of the ROM generates the appropriate control signals from each micro-instruction. The bus registers and control circuitry handle interactions with the main 8086 processor and the rest of the system. Finally, the <a href="https://www.righto.com/2018/08/inside-die-of-intels-8087-coprocessor.html">bias generator</a> uses a charge pump to create a negative voltage to bias the chip's substrate, the underlying silicon.</p>
<p>The stack registers and control circuitry (in red above) are the subject of this blog post. Unlike most processors, the 8087 organizes its registers in a stack, with instructions operating on the top of the stack. For instance, the square root instruction replaces the value on the top of the stack with its square root. You can also access a register relative to the top of the stack, for instance, adding the top value to the value two positions down from the top. The stack-based architecture was intended to improve the instruction set, simplify compiler design, and make function calls more efficient, although it didn't work as well as hoped.</p>
<p><a href="https://static.righto.com/images/8087-stack/stack-diagram.jpg"><img alt="The stack on the 8087. From The 8087 Primer, page 60." src="https://static.righto.com/images/8087-stack/stack-diagram-w350.jpg" /></a></p>
<p>The stack on the 8087. From <em>The 8087 Primer</em> , page 60.</p>
<p>The diagram above shows how the stack operates. The stack consists of eight registers, with the Stack Top (ST) indicating the current top of the stack. To push a floating-point value onto the stack, the Stack Top is decremented and then the value is stored in the new top register. A pop is performed by copying the value from the stack top and then incrementing the Stack Top. In comparison, most processors specify registers directly, so register 2 is always the same register.</p>
<h2 id="the-registers">The registers<a class="headerlink" href="#the-registers" title="Permanent link">&para;</a></h2>
<p>The stack registers occupy a substantial area on the die of the 8087 because floating-point numbers take many bits. A floating-point number consists of a fractional part (sometimes called the mantissa or significand), along with the exponent part; the exponent allows floating-point numbers to cover a range from extremely small to extremely large. In the 8087, floating-point numbers are 80 bits: 64 bits of significand, 15 bits of exponent, and a sign bit. An 80-bit register was very large in the era of 8-bit or 16-bit computers; the eight registers in the 8087 would be equivalent to 40 registers in the 8086 processor.</p>
<p><a href="https://static.righto.com/images/8087-stack/registers.jpg"><img alt="The registers in the 8087 form an 8×80 grid of cells. The close-up shows an 8×8 block. I removed the metal layer with acid to reveal the underlying silicon circuitry." src="https://static.righto.com/images/8087-stack/registers-w500.jpg" /></a></p>
<p>The registers in the 8087 form an 8×80 grid of cells. The close-up shows an 8×8 block. I removed the metal layer with acid to reveal the underlying silicon circuitry.</p>
<p>The registers store each bit in a static RAM cell. Each cell has two inverters connected in a loop. This circuit forms a stable feedback loop, with one inverter on and one inverter off. Depending on which inverter is on, the circuit stores a 0 or a 1. To write a new value into the circuit, one of the lines is pulled low, flipping the loop into the desired state. The trick is that each inverter uses a very weak transistor to pull the output high, so its output is easily overpowered to change the state.</p>
<p><a href="https://static.righto.com/images/8087-stack/inverter-loop.png"><img alt="Two inverters in a loop can store a 0 or a 1." src="https://static.righto.com/images/8087-stack/inverter-loop-w250.png" /></a></p>
<p>Two inverters in a loop can store a 0 or a 1.</p>
<p>These inverter pairs are arranged in an 8 × 80 grid that implements eight words of 80 bits. Each of the 80 rows has two <em>bitlines</em> that provide access to a bit. The bitlines provide both read and write access to a bit; the pair of bitlines allows either inverter to be pulled low to store the desired bit value. Eight vertical <em>wordlines</em> enable access to one word, one column of 80 bits. Each wordline turns on 160 pass transistors, connecting the bitlines to the inverters in the selected column. Thus, when a wordline is enabled, the bitlines can be used to read or write that word.</p>
<p>Although the chip looks two-dimensional, it actually consists of multiple layers. The bottom layer is silicon. The pinkish regions below are where the silicon has been "doped" to change its electrical properties, making it an active part of the circuit. The doped silicon forms a grid of horizontal and vertical wiring, with larger doped regions in the middle. On top of the silicon, polysilicon wiring provides two functions. First, it provides a layer of wiring to connect the circuit. But more importantly, when polysilicon crosses doped silicon, it forms a transistor. The polysilicon provides the gate, turning the transistor on and off. In this photo, the polysilicon is barely visible, so I've highlighted part of it in red. Finally, horizontal metal wires provide a third layer of interconnecting wiring. Normally, the metal hides the underlying circuitry, so I removed the metal with acid for this photo. I've drawn blue lines to represent the metal layer. Contacts provide connections between the various layers.</p>
<p><a href="https://static.righto.com/images/8087-stack/memory-cell-layers.jpg"><img alt="A close-up of a storage cell in the registers. The metal layer and most of the polysilicon have been removed to show the underlying silicon." src="https://static.righto.com/images/8087-stack/memory-cell-layers-w500.jpg" /></a></p>
<p>A close-up of a storage cell in the registers. The metal layer and most of the polysilicon have been removed to show the underlying silicon.</p>
<p>The layers combine to form the inverters and selection transistors of a memory cell, indicated with the dotted line below. There are six transistors (yellow), where polysilicon crosses doped silicon. Each inverter has a transistor that pulls the output low and a weak transistor to pull the output high. When the word line (vertical polysilicon) is active, it connects the selected inverters to the bit lines (horizontal metal) through the two selection transistors. This allows the bit to be read or written.</p>
<p><a href="https://static.righto.com/images/8087-stack/memory-cell-labeled.jpg"><img alt="The function of the circuitry in a storage cell." src="https://static.righto.com/images/8087-stack/memory-cell-labeled-w500.jpg" /></a></p>
<p>The function of the circuitry in a storage cell.</p>
<p>Each register has two tag bits associated with it, an unusual form of metadata to indicate if the register is empty, contains zero, contains a valid value, or contains a special value such as infinity. The tag bits are used to optimize performance internally and are mostly irrelevant to the programmer. As well as being accessed with a register, the tag bits can be accessed in parallel as a 16-bit "Tag Word". This allows the tags to be saved or loaded as part of the 8087's state, for instance, during interrupt handling.</p>
<h2 id="the-decoder">The decoder<a class="headerlink" href="#the-decoder" title="Permanent link">&para;</a></h2>
<p>The decoder circuit, wedged into the middle of the register file, selects one of the registers. A register is specified internally with a 3-bit value. The decoder circuit energizes one of the eight register select lines based on this value.</p>
<p>The decoder circuitry is straightforward: it has eight 3-input NOR gates to match one of the eight bit patterns. The select line is then powered through a high-current driver that uses large transistors. (In the photo below, you can compare the large serpentine driver transistors to the small transistors in a bit cell.)</p>
<p><a href="https://static.righto.com/images/8087-stack/decoder.jpg"><img alt="The decoder circuitry has eight similar blocks to drive the eight select lines." src="https://static.righto.com/images/8087-stack/decoder-w600.jpg" /></a></p>
<p>The decoder circuitry has eight similar blocks to drive the eight select lines.</p>
<p>The decoder has an interesting electrical optimization. As shown earlier, the register select lines are eight polysilicon lines running vertically, the length of the register file. Unfortunately, polysilicon has fairly high resistance, better than silicon but much worse than metal. The problem is that the resistance of a long polysilicon line will slow down the system. That is, the capacitance of transistor gates in combination with high resistance causes an RC (resistive-capacitive) delay in the signal.</p>
<p>The solution is that the register select lines also run in the metal layer, a second set of lines immediately to the right of the register file. These lines branch off from the register file about 1/3 of the way down, run to the bottom, and then connect back to the polysilicon select lines at the bottom. This reduces the maximum resistance through a select line, increasing the speed.</p>
<p><a href="https://static.righto.com/images/8087-stack/select.jpg"><img alt="A diagram showing how 8 metal lines run parallel to the main select lines. The register file is much taller than shown; the middle has been removed to make the diagram fit." src="https://static.righto.com/images/8087-stack/select-w300.jpg" /></a></p>
<p>A diagram showing how 8 metal lines run parallel to the main select lines. The register file is much taller than shown; the middle has been removed to make the diagram fit.</p>
<h2 id="the-stack-control-circuitry">The stack control circuitry<a class="headerlink" href="#the-stack-control-circuitry" title="Permanent link">&para;</a></h2>
<p>A stack needs more control circuitry than a regular register file, since the circuitry must keep track of the position of the top of the stack.3 The control circuitry increments and decrements the top of stack (TOS) pointer as values are pushed or popped (purple).4 Moreover, an 8087 instruction can access a register based on its offset, for instance the third register from the top. To support this, the control circuitry can temporarily add an offset to the top of stack position (green). A multiplexer (red) selects either the top of stack or the adder output, and feeds it to the decoder (blue), which selects one of the eight stack registers in the register file (yellow), as described earlier.</p>
<p><a href="https://static.righto.com/images/8087-stack/patent-diagram.jpg"><img alt="The register stack in the 8087. Adapted from Patent USRE33629E. I don't know what the GRX field is. I also don't know why this shows a subtractor and not an adder." src="https://static.righto.com/images/8087-stack/patent-diagram-w700.jpg" /></a></p>
<p>The register stack in the 8087. Adapted from <a href="https://patents.google.com/patent/USRE33629E">Patent USRE33629E</a>. I don't know what the GRX field is. I also don't know why this shows a subtractor and not an adder.</p>
<p>The physical implementation of the stack circuitry is shown below. The logic at the top selects the stack operation based on the 16-bit micro-instruction.5 Below that are the three latches that hold the top of stack value. (The large white squares look important, but they are simply "jumpers" from the ground line to the circuitry, passing under metal wires.)</p>
<p><a href="https://static.righto.com/images/8087-stack/stack-circuitry.jpg"><img alt="The stack control circuitry. The blue regions on the right are oxide residue that remained when I dissolved the metal rail for the 5V power.
" src="https://static.righto.com/images/8087-stack/stack-circuitry-w350.jpg" /></a></p>
<p>The stack control circuitry. The blue regions on the right are oxide residue that remained when I dissolved the metal rail for the 5V power. </p>
<p>The three-bit adder is at the bottom, along with the multiplexer. You might expect the adder to use a simple "full adder" circuit. Instead, it is a faster <a href="https://en.wikipedia.org/wiki/Carry-lookahead_adder">carry-lookahead</a> adder. I won't go into details here, but the summary is that at each bit position, an AND gate produces a Carry Generate signal while an XOR gate produces a Carry Propagate signal. Logic gates combine these signals to produce the output bits in parallel, avoiding the slowdown of the carry rippling through the bits.</p>
<p>The incrementer/decrementer uses a completely different approach. Each of the three bits uses a toggle flip-flop. A few logic gates determine if each bit should be toggled or should keep its previous value. For instance, when incrementing, the top bit is toggled if the lower bits are 11 (e.g. incrementing from 011 to 100). For decrementing, the top bit is toggled if the lower bits are 00 (e.g. 100 to 011). Simpler logic determines if the middle bit should be toggled. The bottom bit is easier, toggling every time whether incrementing or decrementing.</p>
<p>The schematic below shows the circuitry for one bit of the stack. Each bit is implemented with a moderately complicated flip-flop that can be cleared, loaded with a value, or toggled, based on control signals from the microcode. The flip-flop is constructed from two set-reset (SR) latches. Note that the flip-flop outputs are crossed when fed back to the input, providing the inversion for the toggle action. At the right, the multiplexer selects either the register value or the sum from the adder (not shown), generating the signals to the decoder.</p>
<p><a href="https://static.righto.com/images/8087-stack/stack-schematic.jpg"><img alt="Schematic of one bit of the stack." src="https://static.righto.com/images/8087-stack/stack-schematic-w700.jpg" /></a></p>
<p>Schematic of one bit of the stack.</p>
<h2 id="drawbacks-of-the-stack-approach">Drawbacks of the stack approach<a class="headerlink" href="#drawbacks-of-the-stack-approach" title="Permanent link">&para;</a></h2>
<p>According to the designers of the 8087,7 the main motivation for using a stack rather than a flat register set was that instructions didn't have enough bits to address multiple register operands. In addition, a stack has "advantages over general registers for expression parsing and nested function calls." That is, a stack works well for a mathematical expression since sub-expressions can be evaluated on the top of the stack. And for function calls, you avoid the cost of saving registers to memory, since the subroutine can use the stack without disturbing the values underneath. At least that was the idea.</p>
<p>The main problem is "stack overflow". The 8087's stack has eight entries, so if you push a ninth value onto the stack, the stack will overflow. Specifically, the top-of-stack pointer will wrap around, obliterating the bottom value on the stack. The 8087 is designed to detect a stack overflow using the register tags: pushing a value to a non-empty register triggers an invalid operation exception.6</p>
<p>The designers expected that stack overflow would be rare and could be handled by the operating system (or library code). After detecting a stack overflow, the software should dump the existing stack to memory to provide the illusion of an infinite stack. Unfortunately, bad design decisions made it difficult "both technically and commercially" to handle stack overflow.</p>
<p>One of the 8087's designers (Kahan) attributes the 8087's stack problems to the time difference between California, where the designers lived, and Israel, where the 8087 was implemented. Due to a lack of communication, each team thought the other was implementing the overflow software. It wasn't until the 8087 was in production that they realized that "it might not be possible to handle 8087 stack underflow/overflow in a reasonable way. It's not impossible, just impossible to do it in a reasonable way."</p>
<p>As a result, the stack was largely a problem rather than a solution. Most 8087 software saved the full stack to memory before performing a function call, creating more memory traffic. Moreover, compilers turned out to work better with regular registers than a stack, so compiler writers awkwardly used the stack to emulate regular registers. The <code>GCC</code> compiler <a href="https://langdev.stackexchange.com/a/2408">reportedly</a> needs 3000 lines of extra code to support the x87 stack.</p>
<p>In the 1990s, Intel introduced a new floating-point system called <a href="https://www.cs.uaf.edu/2012/fall/cs301/lecture/11_02_other_float.html">SSE</a>, followed by AVX in 2011. These systems use regular (non-stack) registers and provide parallel operations for higher performance, making the 8087's stack instructions largely obsolete.</p>
<h2 id="the-success-of-the-8087">The success of the 8087<a class="headerlink" href="#the-success-of-the-8087" title="Permanent link">&para;</a></h2>
<p>At the start, Intel was unenthusiastic about producing the 8087, viewing it as unlikely to be a success. John Palmar, a principal architect of the chip, had little success convincing skeptical Intel management that the market for the 8087 was enormous. Eventually, he said, "I'll tell you what. I'll relinquish my salary, provided you'll write down your number of how many you expect to sell, then give me a dollar for every one you sell beyond that."7 Intel didn't agree to the deal--which would have made a fortune for Palmer--but they reluctantly agreed to produce the chip.</p>
<p>Intel's Santa Clara engineers shunned the 8087, considering it unlikely to work: the 8087 would be two to three times more complex than the 8086, with a die so large that a wafer might not have a single working die. Instead, Rafi Nave, at Intel's Israel site, took on the risky project: "Listen, everybody knows it's not going to work, so if it won't work, I would just fulfill their expectations or their assessment. If, by chance, it works, okay, then we'll gain tremendous respect and tremendous breakthrough on our abilities."</p>
<p>A small team of seven engineers developed the 8087 in Israel. They designed the chip on Mylar sheets: a millimeter on Mylar represented a micron on the physical chip. The drawings were then digitized on a Calma system by clicking on each polygon to create the layout. When the chip was moved into production, the yield was very low but better than feared: two working dies per four-inch wafer.</p>
<p>The 8087 ended up being a large success, said to have been Intel's most profitable product line at times. The success of the 8087 (along with the 8088) cemented the reputation of Intel Israel, which eventually became Israel's largest tech employer. The benefits of floating-point hardware proved to be so great that Intel integrated the floating-point unit into later processors starting with the 80486 (1989). Nowadays, most modern computers, from cellphones to mainframes, provide floating point based on the 8087, so I consider the 8087 one of the most influential chips ever created.</p>
<p>For more, follow me on Bluesky (<a href="https://bsky.app/profile/righto.com">@righto.com</a>), Mastodon (<a href="https://oldbytes.space/@kenshirriff">@[email protected]</a>), or <a href="http://www.righto.com/feeds/posts/default">RSS</a>. I wrote some articles about the 8087 a few years ago, including <a href="https://www.righto.com/2018/08/inside-die-of-intels-8087-coprocessor.html">the die</a>, <a href="https://www.righto.com/2018/09/two-bits-per-transistor-high-density.html">the ROM</a>, the <a href="https://www.righto.com/2020/05/die-analysis-of-8087-math-coprocessors.html">bit shifter</a>, and <a href="https://www.righto.com/2020/05/extracting-rom-constants-from-8087-math.html">the constants</a>, so you may have seen some of this material before.</p>
<h2 id="notes-and-references">Notes and references<a class="headerlink" href="#notes-and-references" title="Permanent link">&para;</a></h2>
<ol>
<li>
<p>Most computers now use the <a href="https://en.wikipedia.org/wiki/IEEE_754">IEEE 754</a> floating-point standard, which is based on the 8087. This standard has been awarded a <a href="https://ethw.org/Milestones:IEEE_Standard_754_for_Binary_Floating-Point_Arithmetic,_1985">milestone</a> in computation. ↩</p>
</li>
<li>
<p>Curiously, reliable sources differ on the number of transistors in the 8087 by almost a factor of 2. Intel says <a href="https://www.intel.com/content/dam/www/public/us/en/documents/case-studies/floating-point-case-study.pdf?page=5">40,000</a>, as does designer William Kahan (<a href="https://web.archive.org/web/20190301193516/http://www.drdobbs.com/architecture-and-design/a-conversation-with-william-kahan/184410314">link</a>). But in <a href="https://doi.org/10.1109/ISSCC.1980.1156144">A Numeric Data Processor</a>, designers Rafi Nave and John Palmer wrote that the chip contains "the equivalent of over 65,000 devices" (whatever "equivalent" means). This number is echoed by a contemporary <a href="https://www.worldradiohistory.com/Archive-Electronics/80s/80/Electronics-1980-02-14.pdf">article</a> in <em>Electronics</em> (1980) that says "over 65,000 H-MOS transistors on a 78,000-mil2 die." Many other sources, such as <a href="https://vtda.org/books/Computing/Hardware/Upgrading%20and%20Repairing%20PCs/URP_4th_edition.pdf?page=238">Upgrading &amp; Repairing PCs</a>, specify 45,000 transistors. Designer Rafi Nave <a href="https://www.computerhistory.org/collections/catalog/300000148/">stated</a> that the 8087 has 63,000 or 64,000 transistors if you count the ROM transistors directly, but if you count ROM transistors as equivalent to two transistors, then you get about 75,000 transistors. ↩</p>
</li>
<li>
<p>The 8087 has a 16-bit Status Word that contains the stack top pointer, exception flags, the four-bit condition code, and other values. Although the Status Word appears to be a 16-bit register, it is not implemented as a register. Instead, parts of the Status Word are stored in various places around the chip: the stack top pointer is in the stack circuitry, the exception flags are part of the interrupt circuitry, the condition code bits are next to the datapath, and so on. When the Status Word is read or written, these various circuits are connected to the 8087's internal data bus, making the Status Word appear to be a monolithic entity. Thus, the stack circuitry includes support for reading and writing it. ↩</p>
</li>
<li>
<p>Intel filed several patents on the 8087, including <a href="https://patents.google.com/patent/USRE33629E">Numeric data processor</a>, another <a href="https://patents.google.com/patent/US4338675A">Numeric data processor</a>, <a href="https://patents.google.com/patent/US4509144A">Programmable bidirectional shifter</a>, <a href="https://patents.google.com/patent/US4484259A">Fraction bus for use in a numeric data processor</a>, and <a href="https://patents.google.com/patent/US4257095A">System bus arbitration, circuitry and methodology</a>. ↩</p>
</li>
<li>
<p>I started looking at the stack in detail to reverse engineer the micro-instruction format and determine how the 8087's microcode works. I'm working with the "Opcode Collective" on Discord on this project, but progress is slow due to the complexity of the micro-instructions. ↩</p>
</li>
<li>
<p>The 8087 detects stack underflow in a similar manner. If you pop more values from the stack than are present, the tag will indicate that the register is empty and shouldn't be accessed. This triggers an invalid operation exception. ↩</p>
</li>
<li>
<p>The 8087 is described in detail in <a href="https://ethw.org/w/images/2/2f/Intel_8086_family_users_numeric_supp.pdf">The 8086 Family User's Manual, Numerics Supplement</a>. An overview of the stack is on page 60 of <em>The 8087 Primer</em> by Palmer and Morse. More details are in Kahan's <a href="https://web.archive.org/web/20170118054747/https://cims.nyu.edu/~dbindel/class/cs279/87stack.pdf">On the Advantages of the 8087's Stack</a>, an unpublished course note (maybe for <a href="https://www.researchgate.net/profile/David-Bindel/publication/2585992_CS_279_Annotated_Course_Bibliography/links/545794630cf26d5090ab49a6/CS-279-Annotated-Course-Bibliography.pdf">CS 279</a>?) with a date of Nov 2, 1990 or perhaps <a href="https://www.netlib.org/bibnet/authors/k/kahan-william-m.pdf#page=21">August 23, 1994</a>. Kahan discusses why the 8087's design makes it hard to handle stack overflow in <a href="https://web.archive.org/web/20190301193516/http://www.drdobbs.com/architecture-and-design/a-conversation-with-william-kahan/184410314">How important is numerical accuracy</a>, Dr. Dobbs, Nov. 1997. Another information source is the <a href="https://www.youtube.com/watch?v=JRSUmuWiTOs">Oral History of Rafi Nave</a> ↩↩</p>
</li>
</ol>
<p><a href="https://www.blogger.com/email-post/6264947694886887540/1883798277085402615" title="Email Post"> <img alt="" src="http://img1.blogblog.com/img/icon18_email.gif" /> </a> <a href="https://www.blogger.com/post-edit.g?blogID=6264947694886887540&amp;postID=1883798277085402615&amp;from=pencil" title="Edit Post"> <img alt="" src="https://resources.blogblog.com/img/icon18_edit_allbkg.gif" /> </a></p>
<p><a href="https://www.blogger.com/share-post.g?blogID=6264947694886887540&amp;postID=1883798277085402615&amp;target=email" title="Email This">Email This</a><a href="https://www.blogger.com/share-post.g?blogID=6264947694886887540&amp;postID=1883798277085402615&amp;target=blog" title="BlogThis!">BlogThis!</a><a href="https://www.blogger.com/share-post.g?blogID=6264947694886887540&amp;postID=1883798277085402615&amp;target=twitter" title="Share to X">Share to X</a><a href="https://www.blogger.com/share-post.g?blogID=6264947694886887540&amp;postID=1883798277085402615&amp;target=facebook" title="Share to Facebook">Share to Facebook</a><a href="https://www.blogger.com/share-post.g?blogID=6264947694886887540&amp;postID=1883798277085402615&amp;target=pinterest" title="Share to Pinterest">Share to Pinterest</a></p>
<p>Labels: <a href="http://www.righto.com/search/label/8087">8087</a>, <a href="http://www.righto.com/search/label/electronics">electronics</a>, <a href="http://www.righto.com/search/label/intel">intel</a>, <a href="http://www.righto.com/search/label/reverse-engineering">reverse-engineering</a></p>
<h4 id="5-comments">5 comments:<a class="headerlink" href="#5-comments" title="Permanent link">&para;</a></h4>
<p><img alt="" src="//resources.blogblog.com/img/blank.gif" /></p>
<p>Anonymous said... </p>
<p>I worked on the Intel iAPX 432 project for nearly four years as a lead technical writer, on the subsequent Gemini/BiiN project that developed the i960 from its inception as manager of technical publications/writer/writing team manager, and later wrote the Intel 960 Extended Architecture Programmer's Reference Manual on contract to Intel. The 8087 was an important foundation, as IEEE floating-point was supported in both the 432 chips and in most of the i960 chips. (The i960 core architecture did not support floating-point in hardware; the numerics, protected, and extended architectures did.) I always appreciate your posts. Sincerely, Martin L Buchanan/<a href="/cdn-cgi/l/email-protection">[email protected]</a>. </p>
<div class="language-text highlight"><pre><span></span><code> [ December 9, 2025 at 11:14 AM ](http://www.righto.com/2025/12/8087-stack-circuitry.html?showComment=1765307659857#c1600436775218743440 &quot;comment permalink&quot;) [ ![](https://resources.blogblog.com/img/icon_delete13.gif) ](https://www.blogger.com/comment/delete/6264947694886887540/1600436775218743440 &quot;Delete Comment&quot;)
</code></pre></div>
<p><img alt="" src="//resources.blogblog.com/img/blank.gif" /></p>
<p>Anonymous said... </p>
<p>I've had the opportunity to work closely with Intel's processor architecture over the years. I spent nearly four years on the Intel iAPX 432 project as a lead technical writer, then continued on the Gemini/BiiN project--where the i960 originated--as the manager of technical publications, writer, and writing team lead. I later authored the Intel 960 Extended Architecture Programmer's Reference Manual as a contractor.  </p>
<p>The 8087 also played a key role, since IEEE floating-point was supported in both the 432 family and most versions of the i960 (with floating-point implemented in the numerics, protected, and extended architectures).  </p>
<p>Really appreciate your posts--always insightful. </p>
<div class="language-text highlight"><pre><span></span><code> [ December 10, 2025 at 5:10 AM ](http://www.righto.com/2025/12/8087-stack-circuitry.html?showComment=1765372226832#c8061497947649313501 &quot;comment permalink&quot;) [ ![](https://resources.blogblog.com/img/icon_delete13.gif) ](https://www.blogger.com/comment/delete/6264947694886887540/8061497947649313501 &quot;Delete Comment&quot;)
</code></pre></div>
<p><img alt="" src="//resources.blogblog.com/img/blank.gif" /></p>
<p>Anonymous said... </p>
<p>I think one of the problems about the stack design is that it made it difficult to read fpu code and understand what it was doing, you really had to concentrate and think about each line. Today I wasted a day tracking down a bug in legacy x86 fpu code that I have to convert to x64 SSE and it turned out to be due to a partial calculation that was left on the stack and then re-used a couple of hundred instructions later! So I specially loved learning about the stack in your article. Thanks and keep up the good work </p>
<div class="language-text highlight"><pre><span></span><code> [ December 11, 2025 at 7:03 PM ](http://www.righto.com/2025/12/8087-stack-circuitry.html?showComment=1765508611494#c7678477152832986131 &quot;comment permalink&quot;) [ ![](https://resources.blogblog.com/img/icon_delete13.gif) ](https://www.blogger.com/comment/delete/6264947694886887540/7678477152832986131 &quot;Delete Comment&quot;)
</code></pre></div>
<p><img alt="" src="//resources.blogblog.com/img/blank.gif" /></p>
<p>Anonymous said... </p>
<p>You say that: "I don't know what the GRX field is."  </p>
<p>Isn't it the "R" field ("reg") of the ModRM byte?  </p>
<p>In the data sheet https://datasheets.chipdb.org/Intel/x86/808x/datashts/8087/205835-007.pdf, on page 20, I see the opcode for FADD, for example. With MOD = 11, the R/M bits are the i of ST(i) if I read it correctly.   </p>
<p>This is also true for other commands like FLD, FST(P), FCOM(P), FSUB and FFREE.<br />
Adder or subtractor would not make any difference other than the way the stack is organized - or does it allow direct access to registers other than relative? </p>
<div class="language-text highlight"><pre><span></span><code> [ December 18, 2025 at 11:43 AM ](http://www.righto.com/2025/12/8087-stack-circuitry.html?showComment=1766087005271#c5509500415797154902 &quot;comment permalink&quot;) [ ![](https://resources.blogblog.com/img/icon_delete13.gif) ](https://www.blogger.com/comment/delete/6264947694886887540/5509500415797154902 &quot;Delete Comment&quot;)
</code></pre></div>
<p><img alt="" src="//resources.blogblog.com/img/blank.gif" /></p>
<p>Anonymous said... </p>
<p>My personal beef with the 8087 stack comes from when I was trying to write optimized floating point assembly code for the original Pentium processor. There were definitely some potential gains to be had by not ordering your computations in stack order, I think some things could run in parallel? To accommodate such optimisations, Intel noted helpfully that a floating point instruction in the U pipe would pair with an FXCH instruction in the V pipe, and issue in the same cycle. So I tried to write code that used that "free" stack exchange instruction every cycle to effectively have floating point instructions that could choose both their register inputs. But I think I gave up pretty quickly, because it was utterly confusing... </p>
<div class="language-text highlight"><pre><span></span><code> [ December 25, 2025 at 10:47 AM ](http://www.righto.com/2025/12/8087-stack-circuitry.html?showComment=1766688450355#c1075117884670181036 &quot;comment permalink&quot;) [ ![](https://resources.blogblog.com/img/icon_delete13.gif) ](https://www.blogger.com/comment/delete/6264947694886887540/1075117884670181036 &quot;Delete Comment&quot;)
</code></pre></div>
<p><a href="https://www.blogger.com/comment/fullpage/post/6264947694886887540/1883798277085402615">Post a Comment</a></p>
<p><a href="http://www.righto.com/2025/12/8087-microcode-conditions.html" title="Newer Post">Newer Post</a> <a href="http://www.righto.com/2025/11/unusual-386-standard-cell-circuits.html" title="Older Post">Older Post</a> <a href="http://www.righto.com/">Home</a></p>
<p><a href="https://righto.kit.com/20bf534dff">Subscribe</a></p>
<p><a href="https://www.righto.com/p/index.html">Contact info and site index</a></p>
<h2 id="popular-posts">Popular Posts<a class="headerlink" href="#popular-posts" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="http://www.righto.com/2009/08/multi-protocol-infrared-remote-library.html"> <img alt="" src="https://lh3.googleusercontent.com/blogger_img_proxy/AEn0k_t5PKnrEF1fLjjQMJ1zf8UxFcfPawLITDCr0WNUtFW6MIIxrS6IudrPt1-W7zVHnA97AzVE41-UiFToXaEconRtOoduXW2eW9B_4T1sILyCoow=w72-h72-p-k-no-nu" /> </a></li>
</ul>
<p><a href="http://www.righto.com/2009/08/multi-protocol-infrared-remote-library.html">A Multi-Protocol Infrared Remote Library for the Arduino</a></p>
<ul>
<li><a href="http://www.righto.com/2026/01/notes-on-intel-8086-processors.html"> <img alt="" src="https://lh3.googleusercontent.com/blogger_img_proxy/AEn0k_uo1KLY6cKndrrJWcDDoa8dUlh97njRoAGoW0SVgwep70n5OXUeDIaSS1Qzh-Qh6pQhQ0p_otQB65DdtrcUVegfBkJIDgreT5mMxPHIo6yOeFyQCYRK_NRt5rU2ZNH2NMxbWTERYGc1-Q=w72-h72-p-k-no-nu" /> </a></li>
</ul>
<p><a href="http://www.righto.com/2026/01/notes-on-intel-8086-processors.html">Notes on the Intel 8086 processor's arithmetic-logic unit</a></p>
<ul>
<li><a href="http://www.righto.com/2012/10/a-dozen-usb-chargers-in-lab-apple-is.html"> <img alt="" src="https://lh3.googleusercontent.com/blogger_img_proxy/AEn0k_swxZd70ysen4R8ivBelCJa1S8moZ5n7WMk_qBGA4jR1pupa6VI56DieiiUZGpPY4vTItTIhdMeSTt02mygnDrDfVR4QTqjqOj-t-ThDwbV8eL2hNbqPsGCEUWLGgY=w72-h72-p-k-no-nu" /> </a></li>
</ul>
<p><a href="http://www.righto.com/2012/10/a-dozen-usb-chargers-in-lab-apple-is.html">A dozen USB chargers in the lab: Apple is very good, but not quite the best</a></p>
<ul>
<li><a href="http://www.righto.com/2012/05/apple-iphone-charger-teardown-quality.html"> <img alt="" src="https://lh3.googleusercontent.com/blogger_img_proxy/AEn0k_sB0xWSaLLTAiCdpvmN7Z9HQDS7BusrQOVxWxE37kvzblCiG5IXfRJBj0EAjjwBwpk59HCY62x7mpxzSocjG67K0s30uTQlrYEdio05YGGw_2l04AOy6OH3DQd_k516DtlMBZTI7ifk-IUeSZBenxOz2sA=w72-h72-p-k-no-nu" /> </a></li>
</ul>
<p><a href="http://www.righto.com/2012/05/apple-iphone-charger-teardown-quality.html">Apple iPhone charger teardown: quality in a tiny expensive package</a></p>
<ul>
<li><a href="http://www.righto.com/2025/12/8087-microcode-conditions.html"> <img alt="" src="https://lh3.googleusercontent.com/blogger_img_proxy/AEn0k_tLuRlv1pr3Y55WTXqO7O9Tnq-QNYV8Ko-fXIEdYB2qPZTLavUO7cg0KxVUs1Dj9hUcUN8aWa7QSYoU6rSHlJlwT-7IPQ2C7YBvpQh28u8-9t-P12mrRwKs3f-16k1DwZD7QRWBK2CS8BOkLjik=w72-h72-p-k-no-nu" /> </a></li>
</ul>
<p><a href="http://www.righto.com/2025/12/8087-microcode-conditions.html">Conditions in the Intel 8087 floating-point chip's microcode</a></p>
<ul>
<li><a href="http://www.righto.com/2013/06/teardown-and-exploration-of-magsafe.html"> <img alt="" src="https://lh3.googleusercontent.com/blogger_img_proxy/AEn0k_s7w0iYcjt66-9B3Al0qouosfmjkXxf7nCfReUKuHNzeMQBK_KAQnQiBzuoiwxdRY6p4_4CaPoIq5kzIzGUBzpgWF0w0leatGGNausbFxR4E9yDJb1l7XzPPMbIwx_wb9amMDC1Zp30G_i9Z04=w72-h72-p-k-no-nu" /> </a></li>
</ul>
<p><a href="http://www.righto.com/2013/06/teardown-and-exploration-of-magsafe.html">Teardown and exploration of Apple's Magsafe connector</a></p>
<ul>
<li><a href="http://www.righto.com/2014/09/mining-bitcoin-with-pencil-and-paper.html"> <img alt="" src="https://lh3.googleusercontent.com/blogger_img_proxy/AEn0k_sE7Ptz5al8KfBlCHim3ytsezk6nSOTMcZbvGBt6R9ZKDCjGKvCikjxVMNmxBH64gC38x4PNrPnVZYZFcdMHepMEkOTfs02h3YUb-mEA-rUEL7q1iLSH7WWWC9A7Jj0nqis=w72-h72-p-k-no-nu" /> </a></li>
</ul>
<p><a href="http://www.righto.com/2014/09/mining-bitcoin-with-pencil-and-paper.html">Mining Bitcoin with pencil and paper: 0.67 hashes per day</a></p>
<ul>
<li><a href="http://www.righto.com/2009/09/arduino-universal-remote-record-and.html"> <img alt="" src="https://lh3.googleusercontent.com/blogger_img_proxy/AEn0k_v8XWCKRvmI7Jmjtj7XPniyJLaC55pZAQdwebJIZ4q2MTfWdPF_AmhhaVy8YjISGQL2ZmXhZIZzeETT7dlTJxyFRTs7G44zo1-6JG2HN10B=w72-h72-p-k-no-nu" /> </a></li>
</ul>
<p><a href="http://www.righto.com/2009/09/arduino-universal-remote-record-and.html">An Arduino universal remote: record and playback IR signals</a></p>
<h2 id="search-this-blog">Search This Blog<a class="headerlink" href="#search-this-blog" title="Permanent link">&para;</a></h2>
<p>| <br />
---|---  </p>
<h2 id="labels">Labels<a class="headerlink" href="#labels" title="Permanent link">&para;</a></h2>
<p><a href="http://www.righto.com/search/label/386">386</a> <a href="http://www.righto.com/search/label/6502">6502</a> <a href="http://www.righto.com/search/label/8008">8008</a> <a href="http://www.righto.com/search/label/8085">8085</a> <a href="http://www.righto.com/search/label/8086">8086</a> <a href="http://www.righto.com/search/label/8087">8087</a> <a href="http://www.righto.com/search/label/8088">8088</a> <a href="http://www.righto.com/search/label/aerospace">aerospace</a> <a href="http://www.righto.com/search/label/alto">alto</a> <a href="http://www.righto.com/search/label/analog">analog</a> <a href="http://www.righto.com/search/label/Apollo">Apollo</a> <a href="http://www.righto.com/search/label/apple">apple</a> <a href="http://www.righto.com/search/label/arc">arc</a> <a href="http://www.righto.com/search/label/arduino">arduino</a> <a href="http://www.righto.com/search/label/arm">arm</a> <a href="http://www.righto.com/search/label/beaglebone">beaglebone</a> <a href="http://www.righto.com/search/label/bitcoin">bitcoin</a> <a href="http://www.righto.com/search/label/c%23">c#</a> <a href="http://www.righto.com/search/label/cadc">cadc</a> <a href="http://www.righto.com/search/label/calculator">calculator</a> <a href="http://www.righto.com/search/label/chips">chips</a> <a href="http://www.righto.com/search/label/css">css</a> <a href="http://www.righto.com/search/label/datapoint">datapoint</a> <a href="http://www.righto.com/search/label/dx7">dx7</a> <a href="http://www.righto.com/search/label/electronics">electronics</a> <a href="http://www.righto.com/search/label/f%23">f#</a> <a href="http://www.righto.com/search/label/fairchild">fairchild</a> <a href="http://www.righto.com/search/label/fpga">fpga</a> <a href="http://www.righto.com/search/label/fractals">fractals</a> <a href="http://www.righto.com/search/label/genome">genome</a> <a href="http://www.righto.com/search/label/globus">globus</a> <a href="http://www.righto.com/search/label/haskell">haskell</a> <a href="http://www.righto.com/search/label/HP">HP</a> <a href="http://www.righto.com/search/label/html5">html5</a> <a href="http://www.righto.com/search/label/ibm">ibm</a> <a href="http://www.righto.com/search/label/ibm1401">ibm1401</a> <a href="http://www.righto.com/search/label/ibm360">ibm360</a> <a href="http://www.righto.com/search/label/intel">intel</a> <a href="http://www.righto.com/search/label/ipv6">ipv6</a> <a href="http://www.righto.com/search/label/ir">ir</a> <a href="http://www.righto.com/search/label/java">java</a> <a href="http://www.righto.com/search/label/javascript">javascript</a> <a href="http://www.righto.com/search/label/math">math</a> <a href="http://www.righto.com/search/label/microcode">microcode</a> <a href="http://www.righto.com/search/label/oscilloscope">oscilloscope</a> <a href="http://www.righto.com/search/label/Pentium">Pentium</a> <a href="http://www.righto.com/search/label/photo">photo</a> <a href="http://www.righto.com/search/label/power%20supply">power supply</a> <a href="http://www.righto.com/search/label/random">random</a> <a href="http://www.righto.com/search/label/reverse-engineering">reverse-engineering</a> <a href="http://www.righto.com/search/label/sheevaplug">sheevaplug</a> <a href="http://www.righto.com/search/label/snark">snark</a> <a href="http://www.righto.com/search/label/space">space</a> <a href="http://www.righto.com/search/label/spanish">spanish</a> <a href="http://www.righto.com/search/label/synth">synth</a> <a href="http://www.righto.com/search/label/teardown">teardown</a> <a href="http://www.righto.com/search/label/theory">theory</a> <a href="http://www.righto.com/search/label/unicode">unicode</a> <a href="http://www.righto.com/search/label/Z-80">Z-80</a></p>
<h2 id="blog-archive">Blog Archive<a class="headerlink" href="#blog-archive" title="Permanent link">&para;</a></h2>
<ul>
<li>
<p><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2026/"> 2026 </a> (1)</p>
<ul>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2026/01/"> January </a> (1)</li>
</ul>
</li>
<li>
<p><a href="javascript:void(0)"> ▼ </a> <a href="http://www.righto.com/2025/"> 2025 </a> (22)</p>
<ul>
<li><a href="javascript:void(0)"> ▼ </a> <a href="http://www.righto.com/2025/12/"> December </a> (2)</li>
<li><a href="http://www.righto.com/2025/12/8087-microcode-conditions.html">Conditions in the Intel 8087 floating-point chip's...</a></li>
<li><a href="http://www.righto.com/2025/12/8087-stack-circuitry.html">The stack circuitry of the Intel 8087 floating poi...</a></li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2025/11/"> November </a> (1)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2025/10/"> October </a> (1)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2025/09/"> September </a> (1)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2025/08/"> August </a> (4)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2025/07/"> July </a> (1)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2025/06/"> June </a> (1)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2025/05/"> May </a> (2)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2025/04/"> April </a> (1)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2025/03/"> March </a> (3)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2025/02/"> February </a> (1)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2025/01/"> January </a> (4)</li>
</ul>
</li>
<li>
<p><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2024/"> 2024 </a> (21)</p>
<ul>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2024/12/"> December </a> (1)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2024/11/"> November </a> (1)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2024/10/"> October </a> (1)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2024/09/"> September </a> (3)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2024/08/"> August </a> (2)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2024/07/"> July </a> (2)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2024/06/"> June </a> (1)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2024/05/"> May </a> (1)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2024/04/"> April </a> (1)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2024/03/"> March </a> (2)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2024/02/"> February </a> (3)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2024/01/"> January </a> (3)</li>
</ul>
</li>
<li>
<p><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2023/"> 2023 </a> (35)</p>
<ul>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2023/12/"> December </a> (4)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2023/11/"> November </a> (2)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2023/10/"> October </a> (3)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2023/09/"> September </a> (1)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2023/08/"> August </a> (2)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2023/07/"> July </a> (3)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2023/05/"> May </a> (1)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2023/04/"> April </a> (2)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2023/03/"> March </a> (4)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2023/02/"> February </a> (5)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2023/01/"> January </a> (8)</li>
</ul>
</li>
<li>
<p><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2022/"> 2022 </a> (18)</p>
<ul>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2022/11/"> November </a> (3)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2022/08/"> August </a> (1)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2022/07/"> July </a> (1)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2022/06/"> June </a> (1)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2022/05/"> May </a> (1)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2022/04/"> April </a> (4)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2022/03/"> March </a> (2)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2022/02/"> February </a> (3)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2022/01/"> January </a> (2)</li>
</ul>
</li>
<li>
<p><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2021/"> 2021 </a> (26)</p>
<ul>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2021/12/"> December </a> (4)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2021/11/"> November </a> (2)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2021/09/"> September </a> (1)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2021/08/"> August </a> (1)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2021/07/"> July </a> (2)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2021/06/"> June </a> (2)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2021/05/"> May </a> (1)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2021/04/"> April </a> (2)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2021/03/"> March </a> (4)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2021/02/"> February </a> (4)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2021/01/"> January </a> (3)</li>
</ul>
</li>
<li>
<p><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2020/"> 2020 </a> (33)</p>
<ul>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2020/12/"> December </a> (2)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2020/11/"> November </a> (3)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2020/10/"> October </a> (2)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2020/09/"> September </a> (4)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2020/08/"> August </a> (5)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2020/07/"> July </a> (2)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2020/06/"> June </a> (3)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2020/05/"> May </a> (4)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2020/04/"> April </a> (2)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2020/03/"> March </a> (5)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2020/01/"> January </a> (1)</li>
</ul>
</li>
<li>
<p><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2019/"> 2019 </a> (18)</p>
<ul>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2019/11/"> November </a> (3)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2019/10/"> October </a> (2)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2019/09/"> September </a> (3)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2019/08/"> August </a> (1)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2019/07/"> July </a> (4)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2019/04/"> April </a> (2)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2019/02/"> February </a> (1)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2019/01/"> January </a> (2)</li>
</ul>
</li>
<li>
<p><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2018/"> 2018 </a> (17)</p>
<ul>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2018/12/"> December </a> (1)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2018/09/"> September </a> (4)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2018/08/"> August </a> (1)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2018/06/"> June </a> (1)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2018/05/"> May </a> (1)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2018/04/"> April </a> (1)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2018/03/"> March </a> (3)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2018/02/"> February </a> (1)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2018/01/"> January </a> (4)</li>
</ul>
</li>
<li>
<p><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2017/"> 2017 </a> (21)</p>
<ul>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2017/12/"> December </a> (5)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2017/11/"> November </a> (2)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2017/10/"> October </a> (3)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2017/08/"> August </a> (1)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2017/07/"> July </a> (2)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2017/06/"> June </a> (2)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2017/04/"> April </a> (2)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2017/03/"> March </a> (2)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2017/02/"> February </a> (1)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2017/01/"> January </a> (1)</li>
</ul>
</li>
<li>
<p><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2016/"> 2016 </a> (34)</p>
<ul>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2016/12/"> December </a> (2)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2016/10/"> October </a> (5)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2016/09/"> September </a> (8)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2016/08/"> August </a> (2)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2016/07/"> July </a> (3)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2016/06/"> June </a> (4)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2016/05/"> May </a> (1)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2016/04/"> April </a> (1)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2016/03/"> March </a> (1)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2016/02/"> February </a> (4)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2016/01/"> January </a> (3)</li>
</ul>
</li>
<li>
<p><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2015/"> 2015 </a> (12)</p>
<ul>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2015/12/"> December </a> (2)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2015/11/"> November </a> (1)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2015/10/"> October </a> (3)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2015/08/"> August </a> (1)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2015/05/"> May </a> (2)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2015/03/"> March </a> (2)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2015/02/"> February </a> (1)</li>
</ul>
</li>
<li>
<p><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2014/"> 2014 </a> (13)</p>
<ul>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2014/12/"> December </a> (1)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2014/10/"> October </a> (1)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2014/09/"> September </a> (3)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2014/05/"> May </a> (2)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2014/03/"> March </a> (1)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2014/02/"> February </a> (5)</li>
</ul>
</li>
<li>
<p><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2013/"> 2013 </a> (24)</p>
<ul>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2013/11/"> November </a> (2)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2013/09/"> September </a> (4)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2013/08/"> August </a> (4)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2013/07/"> July </a> (4)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2013/06/"> June </a> (2)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2013/04/"> April </a> (1)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2013/03/"> March </a> (2)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2013/02/"> February </a> (2)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2013/01/"> January </a> (3)</li>
</ul>
</li>
<li>
<p><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2012/"> 2012 </a> (10)</p>
<ul>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2012/12/"> December </a> (1)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2012/11/"> November </a> (5)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2012/10/"> October </a> (1)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2012/05/"> May </a> (1)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2012/03/"> March </a> (1)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2012/02/"> February </a> (1)</li>
</ul>
</li>
<li>
<p><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2011/"> 2011 </a> (11)</p>
<ul>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2011/12/"> December </a> (2)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2011/07/"> July </a> (2)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2011/05/"> May </a> (2)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2011/04/"> April </a> (1)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2011/03/"> March </a> (1)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2011/02/"> February </a> (3)</li>
</ul>
</li>
<li>
<p><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2010/"> 2010 </a> (22)</p>
<ul>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2010/12/"> December </a> (2)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2010/11/"> November </a> (4)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2010/10/"> October </a> (3)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2010/08/"> August </a> (1)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2010/06/"> June </a> (1)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2010/05/"> May </a> (2)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2010/04/"> April </a> (3)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2010/03/"> March </a> (4)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2010/01/"> January </a> (2)</li>
</ul>
</li>
<li>
<p><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2009/"> 2009 </a> (22)</p>
<ul>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2009/12/"> December </a> (2)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2009/11/"> November </a> (5)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2009/09/"> September </a> (1)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2009/08/"> August </a> (3)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2009/07/"> July </a> (1)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2009/06/"> June </a> (3)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2009/04/"> April </a> (1)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2009/03/"> March </a> (3)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2009/02/"> February </a> (2)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2009/01/"> January </a> (1)</li>
</ul>
</li>
<li>
<p><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2008/"> 2008 </a> (27)</p>
<ul>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2008/07/"> July </a> (3)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2008/06/"> June </a> (1)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2008/05/"> May </a> (3)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2008/04/"> April </a> (4)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2008/03/"> March </a> (10)</li>
<li><a href="javascript:void(0)"> ► </a> <a href="http://www.righto.com/2008/02/"> February </a> (6)</li>
</ul>
</li>
</ul>
<h2 id="dont-miss-a-post">Don't miss a post!<a class="headerlink" href="#dont-miss-a-post" title="Permanent link">&para;</a></h2>
<p>Subscribe to get updates by email.</p>
<p>Subscribe</p>
<p>​</p>
<p><a href="https://kit.com/features/forms?utm_campaign=poweredby&amp;utm_content=form&amp;utm_medium=referral&amp;utm_source=dynamic">Built with Kit</a></p>
<p>| <br />
---|---  </p>
<p>Powered by <a href="https://www.blogger.com">Blogger</a>. </p>







  
    
  
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="最后更新">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date" title="2026年2月22日 10:06:28 UTC">2026-02-22</span>
  </span>

    
    
    
    
  </aside>


  



  <form class="md-feedback" name="feedback" hidden>
    <fieldset>
      <legend class="md-feedback__title">
        这篇文章有帮助吗？
      </legend>
      <div class="md-feedback__inner">
        <div class="md-feedback__list">
          
            <button class="md-feedback__icon md-icon" type="submit" title="有帮助" data-md-value="1">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 9v12H1V9zm4 12a2 2 0 0 1-2-2V9c0-.55.22-1.05.59-1.41L14.17 1l1.06 1.06c.27.27.44.64.44 1.05l-.03.32L14.69 8H21a2 2 0 0 1 2 2v2c0 .26-.05.5-.14.73l-3.02 7.05C19.54 20.5 18.83 21 18 21zm0-2h9.03L21 12v-2h-8.79l1.13-5.32L9 9.03z"/></svg>
            </button>
          
            <button class="md-feedback__icon md-icon" type="submit" title="没帮助" data-md-value="0">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 15V3h4v12zM15 3a2 2 0 0 1 2 2v10c0 .55-.22 1.05-.59 1.41L9.83 23l-1.06-1.06c-.27-.27-.44-.64-.44-1.06l.03-.31.95-4.57H3a2 2 0 0 1-2-2v-2c0-.26.05-.5.14-.73l3.02-7.05C4.46 3.5 5.17 3 6 3zm0 2H5.97L3 12v2h8.78l-1.13 5.32L15 14.97z"/></svg>
            </button>
          
        </div>
        <div class="md-feedback__note">
          
            <div data-md-value="1" hidden>
              
              
                
              
              
              
                
                
              
              感谢反馈！
            </div>
          
            <div data-md-value="0" hidden>
              
              
                
              
              
              
                
                
              
              感谢反馈！我们会改进。
            </div>
          
        </div>
      </div>
    </fieldset>
  </form>


                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2026 - OpenClaw
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
    <a href="https://github.com/mrgolftech" target="_blank" rel="noopener" title="GitHub" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.sections", "navigation.expand", "navigation.top", "search.suggest", "search.highlight", "search.share", "content.code.copy", "content.action.edit"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>